{
  "model": "claude-code-sonnet-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface_docstring",
  "timestamp": "2026-01-04T02:53:42.439884",
  "response_time": 300.0976469516754,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface_docstring\\claude-code-sonnet-4.5\\run_026\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet.\n\nBelow is the interface+docstrings of the class:\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict):\n    \"\"\"\n    Represents a single product entry in the order.\n\n:key name: The name of the product.\n    :key price: The price per unit of the product.\n    :key quantity: The number of units of the product.\n    \"\"\"\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n        \"\"\"\n        Initializes a new OrderCalculator instance.\n        Initializes an empty list of items (each represented as a TypedDict 'Item')\n        and stores the configured tax and shipping parameters.\n\n:param tax_rate: The percentage of tax applied to the final amount, expressed as a float between 0.0 and 1.0 (default is 0.23 for 23%).\n        :param free_shipping_threshold: The minimum order value (after discount) that qualifies for free shipping (default is 100.0).\n        :param shipping_cost: The cost of shipping applied if the order does not meet the free shipping threshold (default is 10.0).\n\n:raises ValueError:\n            - If tax_rate is not in the range [0.0, 1.0].\n            - If free_shipping_threshold is negative.\n            - If shipping_cost is negative.\n        :raises TypeError: If any parameter is of incorrect type.\n        \"\"\"\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n        \"\"\"\n        Add an item to the order.\n\nIf an item with the same name and price already exists, its quantity is increased.\n\n:param name: the name of the item\n        :param price: the price of the item\n        :param quantity: the quantity of the item (default is 1)\n        :raises ValueError: If name is empty, price <= 0, quantity < 1, or item with same name but different price exists.\n        :raises TypeError: If inputs are of incorrect types.\n        \"\"\"\n\ndef remove_item(self, name: str):\n        \"\"\"\n        Removes an item from the order.\n\n:param name: The name of the item to remove.\n        :raises ValueError: If no item with the given name exists in the order.\n        :raises TypeError: If name is not a string.\n        \"\"\"\n\ndef get_subtotal(self) -> float:\n        \"\"\"\n        Calculates the subtotal (sum of item prices times their quantities) for all items in the order.\n\n:return: The subtotal as a float.\n        :raises ValueError: If the order is empty.\n        \"\"\"\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n        \"\"\"\n        Applies a percentage discount to the given subtotal.\n\n:param subtotal: the subtotal amount (must be >= 0)\n        :param discount: the discount rate as a float between 0.0 and 1.0 (e.g. 0.2 = 20%).\n        :return: The discounted subtotal.\n        :raises ValueError: If subtotal < 0 or discount is outside the [0.0, 1.0] range.\n        :raises TypeError: If inputs are of incorrect types.\n        \"\"\"\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n        \"\"\"\n        Calculates the shipping cost based on the discounted subtotal.\n\nIf the discounted subtotal >= free shipping threshold shipping is free (0.0).\n        Otherwise, the standard shipping cost is applied.\n\n:param discounted_subtotal: The subtotal amount after applying discount (must be >= 0.0).\n        :return: The shipping cost as a float (0.0 or self.shipping_cost).\n        :raises TypeError: If input is not a number.\n        \"\"\"\n\ndef calculate_tax(self, amount: float) -> float:\n        \"\"\"\n        Calculates the tax based on the provided amount using the configured tax rate.\n\n:param amount: The amount on which to calculate the tax (must be >= 0.0).\n        :return: The tax as a float.\n        :raises ValueError: If the amount is negative.\n        :raises TypeError: If input is not a number.\n        \"\"\"\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n        \"\"\"\n        Calculates the total cost of the order after applying discount, shipping, and tax.\n\nThis method performs the following steps:\n        1. Calculates the subtotal from all items.\n        2. Applies the given discount.\n        3. Adds shipping cost if necessary.\n        4. Calculates tax on the discounted subtotal + shipping.\n\n:param discount: Discount rate between 0.0 and 1.0 (e.g. 0.2 = 20%).\n        :return: The final total as a float.\n        :raises ValueError:\n            - If the subtotal is negative.\n            - If the discount is invalid.\n            - If the order is empty.\n        :raises TypeError: If input is not a number.\n        \"\"\"\n\ndef total_items(self) -> int:\n        \"\"\"\n        Returns the total quantity of all items in the order.\n\n:return: The sum of the quantities of all items.\n        :return:\n        \"\"\"\n\ndef clear_order(self):\n        \"\"\"\n        Removes all items from the order, resetting it to an empty state.\n        \"\"\"\n\ndef list_items(self) -> List[str]:\n        \"\"\"\n        Returns a list of all unique item names currently in the order.\n\n:return: A list of unique item names (no duplicates).\n        \"\"\"\n\ndef is_empty(self) -> bool:\n        \"\"\"\n        Checks whether the order is currently empty.\n\n:return: True if no items are in the order, False otherwise.\n        \"\"\"\n```",
        "response": "I'll analyze this `OrderCalculator` class to prepare comprehensive test cases. Let me break down the testing strategy:\n\n## Test Analysis Plan\n\n### 1. **Constructor (`__init__`) Tests**\n- Valid initialization with default parameters\n- Valid initialization with custom parameters\n- **Edge cases:**\n  - tax_rate at boundaries (0.0, 1.0)\n  - Zero values for thresholds/costs\n- **Invalid inputs:**\n  - tax_rate < 0 or > 1.0 (ValueError)\n  - Negative free_shipping_threshold (ValueError)\n  - Negative shipping_cost (ValueError)\n  - Wrong types for parameters (TypeError)\n\n### 2. **`add_item()` Tests**\n- Add single item with default quantity\n- Add item with specified quantity\n- Add duplicate item (same name & price) - should merge quantities\n- Add multiple different items\n- **Edge cases:**\n  - Quantity = 1 (minimum valid)\n  - Very large quantities\n  - Float prices (e.g., 9.99)\n- **Invalid inputs:**\n  - Empty name (ValueError)\n  - Negative or zero price (ValueError)\n  - Zero or negative quantity (ValueError)\n  - Same name but different price (ValueError)\n  - Wrong types (TypeError)\n\n### 3. **`remove_item()` Tests**\n- Remove existing item\n- Remove from order with multiple items\n- **Invalid inputs:**\n  - Non-existent item name (ValueError)\n  - Wrong type for name (TypeError)\n\n### 4. **`get_subtotal()` Tests**\n- Calculate subtotal with single item\n- Calculate subtotal with multiple items\n- Verify correct multiplication (price Ă— quantity)\n- **Edge cases:**\n  - Empty order (ValueError)\n\n### 5. **`apply_discount()` Tests**\n- Apply 0% discount (no change)\n- Apply 100% discount (result = 0)\n- Apply typical discount (e.g., 20%)\n- Apply discount to zero subtotal\n- **Invalid inputs:**\n  - Negative subtotal (ValueError)\n  - Discount < 0 or > 1.0 (ValueError)\n  - Wrong types (TypeError)\n\n### 6. **`calculate_shipping()` Tests**\n- Discounted subtotal below threshold â†’ shipping cost applied\n- Discounted subtotal equal to threshold â†’ free shipping\n- Discounted subtotal above threshold â†’ free shipping\n- Zero subtotal â†’ shipping cost applied\n- **Invalid inputs:**\n  - Wrong type (TypeError)\n\n### 7. **`calculate_tax()` Tests**\n- Calculate tax on positive amount\n- Calculate tax on zero amount\n- Verify correct multiplication (amount Ă— tax_rate)\n- **Invalid inputs:**\n  - Negative amount (ValueError)\n  - Wrong type (TypeError)\n\n### 8. **`calculate_total()` Tests**\n- Total with no discount\n- Total with discount\n- Total with shipping (below threshold)\n- Total without shipping (above threshold)\n- Verify complete calculation flow: subtotal â†’ discount â†’ shipping â†’ tax\n- **Edge cases:**\n  - Empty order (ValueError)\n  - Zero discount\n  - 100% discount\n- **Invalid inputs:**\n  - Invalid discount range (ValueError)\n  - Wrong type (TypeError)\n\n### 9. **`total_items()` Tests**\n- Empty order â†’ 0\n- Single item with quantity 1\n- Single item with quantity > 1\n- Multiple items with varying quantities\n\n### 10. **`clear_order()` Tests**\n- Clear non-empty order\n- Clear already empty order\n- Verify order is empty after clearing\n\n### 11. **`list_items()` Tests**\n- Empty order â†’ empty list\n- Single item â†’ list with one name\n- Multiple items â†’ list with all names\n- Duplicate items (same name/price) â†’ no duplicates in list\n\n### 12. **`is_empty()` Tests**\n- Initially empty order â†’ True\n- After adding items â†’ False\n- After removing all items â†’ True\n- After clearing â†’ True\n\n### 13. **Integration/Workflow Tests**\n- Complete order workflow: add items â†’ calculate total â†’ clear\n- Add, remove, add again workflow\n- Multiple discounts applied sequentially\n- Edge case: Order exactly at free shipping threshold\n\n## Key Testing Considerations\n\n1. **Type validation**: Test that TypeErrors are raised for incorrect types\n2. **Value validation**: Test that ValueErrors are raised for invalid values\n3. **State management**: Ensure operations maintain correct internal state\n4. **Boundary conditions**: Test at exact boundaries (0, thresholds, min/max values)\n5. **Floating-point precision**: Use appropriate assertions for float comparisons\n6. **Exception messages**: Verify meaningful error messages where applicable\n\nThis analysis covers typical usage, edge cases, boundary conditions, invalid inputs, and exception handling for all public methods. The tests will be atomic, focused, and ensure comprehensive coverage of the class's functionality.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "# Comprehensive Unit Test Scenarios for OrderCalculator\n\n## 1. Constructor (`__init__`) Tests\n\n### Normal Use Cases\n1. **Default initialization** - Verify calculator initializes with default tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0, and empty items list\n2. **Custom parameters** - Initialize with custom tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0\n3. **Zero tax rate** - Initialize with tax_rate=0.0 (valid boundary)\n4. **Maximum tax rate** - Initialize with tax_rate=1.0 (valid boundary)\n5. **Zero shipping cost** - Initialize with shipping_cost=0.0 (valid)\n6. **Zero free shipping threshold** - Initialize with free_shipping_threshold=0.0 (valid)\n\n### Invalid Input Cases\n7. **Negative tax rate** - tax_rate=-0.1 should raise ValueError\n8. **Tax rate above 1.0** - tax_rate=1.5 should raise ValueError\n9. **Negative free shipping threshold** - free_shipping_threshold=-50.0 should raise ValueError\n10. **Negative shipping cost** - shipping_cost=-5.0 should raise ValueError\n11. **String tax rate** - tax_rate=\"0.23\" should raise TypeError\n12. **String free shipping threshold** - free_shipping_threshold=\"100\" should raise TypeError\n13. **String shipping cost** - shipping_cost=\"10\" should raise TypeError\n14. **None as tax rate** - tax_rate=None should raise TypeError\n15. **List as parameter** - tax_rate=[0.23] should raise TypeError\n\n## 2. `add_item()` Tests\n\n### Normal Use Cases\n16. **Add single item with default quantity** - Add item with name, price, verify quantity=1\n17. **Add single item with specified quantity** - Add item with quantity=5\n18. **Add multiple different items** - Add 3 different items, verify all present\n19. **Merge duplicate items** - Add same item (name+price) twice, verify quantities sum\n20. **Float price** - Add item with price=9.99\n21. **Large quantity** - Add item with quantity=1000\n22. **Item with spaces in name** - Add item with name=\"Premium Widget\"\n\n### Edge Cases\n23. **Minimum valid quantity** - Add item with quantity=1\n24. **Very small price** - Add item with price=0.01\n25. **Very large price** - Add item with price=99999.99\n26. **Multiple merges** - Add same item 3+ times, verify total quantity\n\n### Invalid Input Cases\n27. **Empty name** - name=\"\" should raise ValueError\n28. **Whitespace-only name** - name=\"   \" should raise ValueError\n29. **Zero price** - price=0.0 should raise ValueError\n30. **Negative price** - price=-10.0 should raise ValueError\n31. **Zero quantity** - quantity=0 should raise ValueError\n32. **Negative quantity** - quantity=-5 should raise ValueError\n33. **Same name different price** - Add item \"A\" at $10, then \"A\" at $15 should raise ValueError\n34. **Non-string name** - name=123 should raise TypeError\n35. **Non-numeric price** - price=\"10.00\" should raise TypeError\n36. **Non-integer quantity** - quantity=5.5 should raise TypeError\n37. **None as name** - name=None should raise TypeError\n38. **List as price** - price=[10.0] should raise TypeError\n\n## 3. `remove_item()` Tests\n\n### Normal Use Cases\n39. **Remove existing item** - Add item, then remove it, verify gone\n40. **Remove from multiple items** - Add 3 items, remove middle one, verify others remain\n41. **Remove last item** - Add and remove single item, verify order empty\n\n### Invalid Input Cases\n42. **Remove non-existent item** - Remove item never added should raise ValueError\n43. **Remove from empty order** - Remove from empty order should raise ValueError\n44. **Remove already removed item** - Remove item twice should raise ValueError on second attempt\n45. **Non-string name** - name=123 should raise TypeError\n46. **None as name** - name=None should raise TypeError\n47. **Case sensitivity** - Remove \"item\" when \"Item\" exists should raise ValueError (assuming case-sensitive)\n\n## 4. `get_subtotal()` Tests\n\n### Normal Use Cases\n48. **Single item subtotal** - Add item price=10, quantity=1, verify subtotal=10.0\n49. **Single item with quantity** - Add item price=10, quantity=3, verify subtotal=30.0\n50. **Multiple items subtotal** - Add items (10Ă—2, 5Ă—3), verify subtotal=35.0\n51. **Float precision** - Add item price=9.99, quantity=3, verify subtotal=29.97\n\n### Edge Cases\n52. **Empty order** - Call get_subtotal() on empty order should raise ValueError\n53. **After removing all items** - Add items, remove all, call get_subtotal() should raise ValueError\n\n## 5. `apply_discount()` Tests\n\n### Normal Use Cases\n54. **No discount** - apply_discount(100.0, 0.0) returns 100.0\n55. **Full discount** - apply_discount(100.0, 1.0) returns 0.0\n56. **Partial discount** - apply_discount(100.0, 0.2) returns 80.0\n57. **Discount on zero subtotal** - apply_discount(0.0, 0.5) returns 0.0\n58. **Small discount** - apply_discount(100.0, 0.01) returns 99.0\n\n### Invalid Input Cases\n59. **Negative subtotal** - apply_discount(-100.0, 0.2) should raise ValueError\n60. **Negative discount** - apply_discount(100.0, -0.1) should raise ValueError\n61. **Discount above 1.0** - apply_discount(100.0, 1.5) should raise ValueError\n62. **String subtotal** - apply_discount(\"100\", 0.2) should raise TypeError\n63. **String discount** - apply_discount(100.0, \"0.2\") should raise TypeError\n64. **None as subtotal** - apply_discount(None, 0.2) should raise TypeError\n65. **None as discount** - apply_discount(100.0, None) should raise TypeError\n\n## 6. `calculate_shipping()` Tests\n\n### Normal Use Cases\n66. **Below threshold** - discounted_subtotal=50.0, threshold=100.0, returns shipping_cost\n67. **At threshold** - discounted_subtotal=100.0, threshold=100.0, returns 0.0\n68. **Above threshold** - discounted_subtotal=150.0, threshold=100.0, returns 0.0\n69. **Zero subtotal** - discounted_subtotal=0.0, returns shipping_cost\n70. **Just below threshold** - discounted_subtotal=99.99, threshold=100.0, returns shipping_cost\n71. **Just above threshold** - discounted_subtotal=100.01, threshold=100.0, returns 0.0\n\n### Invalid Input Cases\n72. **String input** - calculate_shipping(\"100\") should raise TypeError\n73. **None input** - calculate_shipping(None) should raise TypeError\n74. **List input** - calculate_shipping([100.0]) should raise TypeError\n\n## 7. `calculate_tax()` Tests\n\n### Normal Use Cases\n75. **Positive amount** - calculate_tax(100.0) with tax_rate=0.23 returns 23.0\n76. **Zero amount** - calculate_tax(0.0) returns 0.0\n77. **Small amount** - calculate_tax(0.01) with tax_rate=0.23 returns 0.0023\n78. **Large amount** - calculate_tax(10000.0) with tax_rate=0.23 returns 2300.0\n79. **Custom tax rate** - Initialize with tax_rate=0.15, calculate_tax(100.0) returns 15.0\n\n### Invalid Input Cases\n80. **Negative amount** - calculate_tax(-100.0) should raise ValueError\n81. **String amount** - calculate_tax(\"100\") should raise TypeError\n82. **None amount** - calculate_tax(None) should raise TypeError\n83. **List amount** - calculate_tax([100.0]) should raise TypeError\n\n## 8. `calculate_total()` Tests\n\n### Normal Use Cases\n84. **Total without discount** - Add items, calculate_total(0.0), verify correct calculation\n85. **Total with discount** - Add items, calculate_total(0.2), verify discount applied\n86. **Total with shipping** - Subtotal below threshold, verify shipping added before tax\n87. **Total without shipping** - Subtotal above threshold, verify no shipping\n88. **Total at shipping threshold** - Subtotal exactly at threshold, verify free shipping\n89. **Complete calculation flow** - Verify: subtotal â†’ discount â†’ shipping â†’ tax applied in order\n90. **Multiple items total** - Add various items, verify all included in total\n91. **Zero discount explicit** - calculate_total(0.0) same as calculate_total()\n\n### Edge Cases\n92. **Empty order total** - Call calculate_total() on empty order should raise ValueError\n93. **100% discount total** - calculate_total(1.0), verify only tax on shipping (if any)\n94. **Subtotal exactly at threshold after discount** - Verify shipping logic with discount\n\n### Invalid Input Cases\n95. **Negative discount** - calculate_total(-0.1) should raise ValueError\n96. **Discount above 1.0** - calculate_total(1.5) should raise ValueError\n97. **String discount** - calculate_total(\"0.2\") should raise TypeError\n98. **None discount** - calculate_total(None) should raise TypeError\n99. **List discount** - calculate_total([0.2]) should raise TypeError\n\n## 9. `total_items()` Tests\n\n### Normal Use Cases\n100. **Empty order** - total_items() returns 0\n101. **Single item quantity 1** - Add item quantity=1, total_items() returns 1\n102. **Single item quantity multiple** - Add item quantity=5, total_items() returns 5\n103. **Multiple items** - Add items with quantities 2, 3, 5, total_items() returns 10\n104. **After merge** - Add same item twice (3, then 2), total_items() returns 5\n105. **After removal** - Add items (total 10), remove one (quantity 3), total_items() returns 7\n\n## 10. `clear_order()` Tests\n\n### Normal Use Cases\n106. **Clear non-empty order** - Add items, clear, verify is_empty() is True\n107. **Clear empty order** - Clear already empty order, verify no error\n108. **Clear and verify items gone** - Add items, clear, verify list_items() returns empty\n109. **Clear and verify total_items** - Add items, clear, verify total_items() returns 0\n110. **Clear multiple times** - Clear, then clear again, verify no error\n\n## 11. `list_items()` Tests\n\n### Normal Use Cases\n111. **Empty order** - list_items() returns empty list []\n112. **Single item** - Add one item, list_items() returns list with one name\n113. **Multiple items** - Add 3 items, list_items() returns list with 3 names\n114. **No duplicates** - Add same item twice (merged), list_items() returns single entry\n115. **Order of names** - Verify names returned (may be insertion order or sorted)\n116. **After removal** - Add 3 items, remove 1, list_items() returns 2 names\n\n## 12. `is_empty()` Tests\n\n### Normal Use Cases\n117. **Initially empty** - New calculator, is_empty() returns True\n118. **After adding item** - Add item, is_empty() returns False\n119. **After removing all items** - Add items, remove all, is_empty() returns True\n120. **After clearing** - Add items, clear, is_empty() returns True\n121. **Multiple items present** - Add multiple items, is_empty() returns False\n\n## 13. Integration/Workflow Tests\n\n### Complex Scenarios\n122. **Complete order workflow** - Add items â†’ calculate_total â†’ clear â†’ verify empty\n123. **Add-remove-add cycle** - Add item \"A\", remove \"A\", add \"A\" again, verify quantity correct\n124. **Multiple discounts** - Calculate total with different discounts, verify independence\n125. **Shipping threshold boundary** - Add items to reach exactly threshold after discount\n126. **Tax calculation on shipping** - Verify tax applied to (discounted_subtotal + shipping)\n127. **Quantity accumulation** - Add item 3 times with quantities 1, 2, 3, verify total=6\n128. **Mixed operations** - Add 5 items, remove 2, clear, add 3 new, verify state correct\n129. **Free shipping qualification** - Start below threshold, add items until above, verify shipping=0\n130. **Discount affecting shipping** - Subtotal above threshold, discount brings below, verify shipping added\n131. **Full workflow with custom params** - Initialize with custom rates, perform full order cycle\n132. **Large order calculation** - Add 50 different items, verify all calculations correct\n133. **Precision in full calculation** - Use prices like 9.99, verify floating-point handled correctly\n134. **State after exceptions** - Attempt invalid operation, verify state unchanged\n135. **Remove and total** - Add items, remove one, verify subtotal and total reflect change\n\n### Boundary Integration Tests\n136. **Zero total scenario** - 100% discount on order below shipping threshold, verify total = tax on shipping\n137. **Minimal order** - Single item, price=0.01, quantity=1, verify all calculations\n138. **Maximum values** - Large prices and quantities, verify no overflow\n139. **All edge combinations** - tax_rate=0.0, shipping_cost=0.0, discount=1.0, verify total=0.0\n140. **State consistency** - After any operation sequence, verify items, total_items, list_items all consistent\n\n## 14. Additional Edge Cases\n\n### Type Consistency\n141. **Return type verification** - Verify get_subtotal(), calculate_total() return floats\n142. **Return type for total_items** - Verify returns int\n143. **Return type for is_empty** - Verify returns bool\n144. **Return type for list_items** - Verify returns list of strings\n\n### Error Message Quality\n145. **Meaningful error messages** - Verify ValueError/TypeError include helpful context\n146. **Exception on invalid item name** - Verify error message mentions which item\n\n### State Isolation\n147. **Independent calculators** - Create 2 calculators, modify one, verify other unaffected\n148. **Parameter independence** - Changing one parameter doesn't affect others\n\nThis comprehensive list covers **148 test scenarios** including:\n- Normal operations for all methods\n- Edge cases and boundary conditions\n- Invalid inputs (type and value errors)\n- Integration/workflow tests\n- State management verification\n- Error handling and exception quality\n\nEach scenario is atomic, focused, and designed to verify a specific aspect of the class's behavior.",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_default_initialization(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n        self.assertTrue(calc.is_empty())\n\n    def test_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_maximum_tax_rate(self):\n        calc = OrderCalculator(tax_rate=1.0)\n        self.assertEqual(calc.tax_rate, 1.0)\n\n    def test_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_zero_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_tax_rate_above_one(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=1.5)\n\n    def test_negative_free_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-50.0)\n\n    def test_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_string_tax_rate(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=\"0.23\")\n\n    def test_string_free_shipping_threshold(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(free_shipping_threshold=\"100\")\n\n    def test_string_shipping_cost(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(shipping_cost=\"10\")\n\n    def test_none_as_tax_rate(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=None)\n\n    def test_list_as_parameter(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=[0.23])\n\n    def test_add_single_item_with_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_single_item_with_specified_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_merge_duplicate_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 2)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_float_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 9.99)\n        self.assertAlmostEqual(calc.get_subtotal(), 9.99)\n\n    def test_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1000)\n        self.assertEqual(calc.total_items(), 1000)\n\n    def test_item_with_spaces_in_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Premium Widget\", 10.0)\n        self.assertIn(\"Premium Widget\", calc.list_items())\n\n    def test_minimum_valid_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_very_small_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 0.01)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01)\n\n    def test_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 99999.99)\n        self.assertAlmostEqual(calc.get_subtotal(), 99999.99)\n\n    def test_multiple_merges(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 10)\n\n    def test_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 10.0)\n\n    def test_whitespace_only_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 10.0)\n\n    def test_zero_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 0.0)\n\n    def test_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", -10.0)\n\n    def test_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 10.0, 0)\n\n    def test_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 10.0, -5)\n\n    def test_same_name_different_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 15.0)\n\n    def test_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 10.0)\n\n    def test_non_numeric_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Widget\", \"10.00\")\n\n    def test_non_integer_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Widget\", 10.0, 5.5)\n\n    def test_none_as_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(None, 10.0)\n\n    def test_list_as_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Widget\", [10.0])\n\n    def test_remove_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_from_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        calc.remove_item(\"Gadget\")\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n        self.assertIn(\"Widget\", items)\n        self.assertIn(\"Tool\", items)\n\n    def test_remove_last_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_non_existent_item(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Widget\")\n\n    def test_remove_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Widget\")\n\n    def test_remove_already_removed_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Widget\")\n\n    def test_remove_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.remove_item(123)\n\n    def test_remove_none_as_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.remove_item(None)\n\n    def test_remove_case_sensitivity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 10.0)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"item\")\n\n    def test_single_item_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 10.0)\n\n    def test_single_item_with_quantity_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 30.0)\n\n    def test_multiple_items_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Gadget\", 5.0, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 35.0)\n\n    def test_float_precision_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 9.99, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 29.97, places=2)\n\n    def test_empty_order_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.get_subtotal()\n\n    def test_after_removing_all_items_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        with self.assertRaises(ValueError):\n            calc.get_subtotal()\n\n    def test_no_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertAlmostEqual(result, 100.0)\n\n    def test_full_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 1.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_partial_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.2)\n        self.assertAlmostEqual(result, 80.0)\n\n    def test_discount_on_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 0.5)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_small_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.01)\n        self.assertAlmostEqual(result, 99.0)\n\n    def test_negative_subtotal_discount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 0.2)\n\n    def test_negative_discount_rate(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -0.1)\n\n    def test_discount_above_one(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 1.5)\n\n    def test_string_subtotal_discount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(\"100\", 0.2)\n\n    def test_string_discount_rate(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(100.0, \"0.2\")\n\n    def test_none_as_subtotal_discount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(None, 0.2)\n\n    def test_none_as_discount_rate(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(100.0, None)\n\n    def test_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_shipping_at_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(100.0)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(150.0)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(0.0)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(99.99)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(100.01)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_string_input_shipping(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping(\"100\")\n\n    def test_none_input_shipping(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping(None)\n\n    def test_list_input_shipping(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping([100.0])\n\n    def test_positive_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(tax, 23.0)\n\n    def test_zero_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(0.0)\n        self.assertAlmostEqual(tax, 0.0)\n\n    def test_small_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(0.01)\n        self.assertAlmostEqual(tax, 0.0023, places=4)\n\n    def test_large_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(10000.0)\n        self.assertAlmostEqual(tax, 2300.0)\n\n    def test_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.15)\n        tax = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(tax, 15.0)\n\n    def test_negative_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_string_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax(\"100\")\n\n    def test_none_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax(None)\n\n    def test_list_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax([100.0])\n\n    def test_total_without_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0, 2)\n        total = calc.calculate_total(0.0)\n        expected = (100.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total = calc.calculate_total(0.2)\n        expected = (80.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_with_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_without_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 150.0)\n        total = calc.calculate_total(0.0)\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_at_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total = calc.calculate_total(0.0)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_complete_calculation_flow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0, 2)\n        total = calc.calculate_total(0.1)\n        subtotal = 200.0\n        discounted = 180.0\n        shipping = 0.0\n        tax = (180.0 + 0.0) * 0.23\n        expected = 180.0 + 0.0 + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_multiple_items_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 30.0)\n        calc.add_item(\"Gadget\", 40.0)\n        calc.add_item(\"Tool\", 50.0)\n        total = calc.calculate_total(0.0)\n        expected = (120.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_zero_discount_explicit(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total1 = calc.calculate_total(0.0)\n        total2 = calc.calculate_total()\n        self.assertAlmostEqual(total1, total2)\n\n    def test_empty_order_total(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_total()\n\n    def test_full_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(1.0)\n        expected = (0.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_subtotal_at_threshold_after_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 125.0)\n        total = calc.calculate_total(0.2)\n        discounted = 100.0\n        shipping = 0.0\n        expected = (100.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_negative_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-0.1)\n\n    def test_discount_above_one_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(1.5)\n\n    def test_string_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(TypeError):\n            calc.calculate_total(\"0.2\")\n\n    def test_none_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(TypeError):\n            calc.calculate_total(None)\n\n    def test_list_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(TypeError):\n            calc.calculate_total([0.2])\n\n    def test_empty_order_total_items(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_single_item_quantity_one_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_single_item_quantity_multiple_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_multiple_items_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Gadget\", 15.0, 3)\n        calc.add_item(\"Tool\", 20.0, 5)\n        self.assertEqual(calc.total_items(), 10)\n\n    def test_after_merge_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 2)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_after_removal_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 7)\n        calc.add_item(\"Gadget\", 15.0, 3)\n        calc.remove_item(\"Gadget\")\n        self.assertEqual(calc.total_items(), 7)\n\n    def test_clear_non_empty_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_empty_order(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_and_verify_items_gone(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.clear_order()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_clear_and_verify_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_multiple_times(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.clear_order()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_empty_order_list_items(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_single_item_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        items = calc.list_items()\n        self.assertEqual(len(items), 1)\n        self.assertIn(\"Widget\", items)\n\n    def test_multiple_items_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        items = calc.list_items()\n        self.assertEqual(len(items), 3)\n        self.assertIn(\"Widget\", items)\n        self.assertIn(\"Gadget\", items)\n        self.assertIn(\"Tool\", items)\n\n    def test_no_duplicates_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 2)\n        items = calc.list_items()\n        self.assertEqual(len(items), 1)\n        self.assertIn(\"Widget\", items)\n\n    def test_order_of_names_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n\n    def test_after_removal_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        calc.remove_item(\"Gadget\")\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n        self.assertIn(\"Widget\", items)\n        self.assertIn(\"Tool\", items)\n\n    def test_initially_empty(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_after_adding_item_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        self.assertFalse(calc.is_empty())\n\n    def test_after_removing_all_items_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        self.assertTrue(calc.is_empty())\n\n    def test_after_clearing_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_multiple_items_present_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        self.assertFalse(calc.is_empty())\n\n    def test_complete_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0, 2)\n        calc.add_item(\"Gadget\", 30.0)\n        total = calc.calculate_total(0.1)\n        self.assertGreater(total, 0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_remove_add_cycle(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.remove_item(\"Widget\")\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_multiple_discounts(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total1 = calc.calculate_total(0.1)\n        total2 = calc.calculate_total(0.2)\n        self.assertNotEqual(total1, total2)\n\n    def test_shipping_threshold_boundary(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 125.0)\n        total = calc.calculate_total(0.2)\n        discounted = 100.0\n        shipping = calc.calculate_shipping(discounted)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_tax_calculation_on_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(0.0)\n        base = 50.0 + 10.0\n        expected = base * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_quantity_accumulation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Widget\", 10.0, 3)\n        self.assertEqual(calc.total_items(), 6)\n\n    def test_mixed_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"A\", 10.0)\n        calc.add_item(\"B\", 20.0)\n        calc.add_item(\"C\", 30.0)\n        calc.add_item(\"D\", 40.0)\n        calc.add_item(\"E\", 50.0)\n        calc.remove_item(\"B\")\n        calc.remove_item(\"D\")\n        calc.clear_order()\n        calc.add_item(\"X\", 15.0)\n        calc.add_item(\"Y\", 25.0)\n        calc.add_item(\"Z\", 35.0)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_free_shipping_qualification(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        self.assertAlmostEqual(calc.calculate_shipping(calc.get_subtotal()), 10.0)\n        calc.add_item(\"Gadget\", 60.0)\n        self.assertAlmostEqual(calc.calculate_shipping(calc.get_subtotal()), 0.0)\n\n    def test_discount_affecting_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 150.0)\n        discounted = calc.apply_discount(150.0, 0.5)\n        shipping = calc.calculate_shipping(discounted)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_full_workflow_with_custom_params(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0)\n        calc.add_item(\"Widget\", 100.0, 2)\n        total = calc.calculate_total(0.1)\n        discounted = 180.0\n        shipping = 15.0\n        expected = (180.0 + 15.0) * 1.15\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_large_order_calculation(self):\n        calc = OrderCalculator()\n        for i in range(50):\n            calc.add_item(f\"Item{i}\", 10.0 + i, 1)\n        total = calc.calculate_total(0.1)\n        self.assertGreater(total, 0)\n\n    def test_precision_in_full_calculation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 9.99, 3)\n        total = calc.calculate_total(0.15)\n        subtotal = 29.97\n        discounted = 29.97 * 0.85\n        shipping = calc.calculate_shipping(discounted)\n        expected = (discounted + shipping) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_state_after_exceptions(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        try:\n            calc.add_item(\"Widget\", 20.0)\n        except ValueError:\n            pass\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_remove_and_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0, 2)\n        calc.add_item(\"Gadget\", 30.0, 1)\n        calc.remove_item(\"Gadget\")\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 100.0)\n\n    def test_zero_total_scenario(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(1.0)\n        expected = (0.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_minimal_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 0.01, 1)\n        total = calc.calculate_total(0.0)\n        expected = (0.01 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_maximum_values(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 99999.99, 1000)\n        total = calc.calculate_total(0.0)\n        self.assertGreater(total, 0)\n\n    def test_all_edge_combinations(self):\n        calc = OrderCalculator(tax_rate=0.0, shipping_cost=0.0)\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(1.0)\n        self.assertAlmostEqual(total, 0.0)\n\n    def test_state_consistency(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Gadget\", 20.0, 2)\n        total_items = calc.total_items()\n        list_items = calc.list_items()\n        self.assertEqual(total_items, 7)\n        self.assertEqual(len(list_items), 2)\n\n    def test_return_type_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        result = calc.get_subtotal()\n        self.assertIsInstance(result, float)\n\n    def test_return_type_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        result = calc.calculate_total()\n        self.assertIsInstance(result, float)\n\n    def test_return_type_total_items(self):\n        calc = OrderCalculator()\n        result = calc.total_items()\n        self.assertIsInstance(result, int)\n\n    def test_return_type_is_empty(self):\n        calc = OrderCalculator()\n        result = calc.is_empty()\n        self.assertIsInstance(result, bool)\n\n    def test_return_type_list_items(self):\n        calc = OrderCalculator()\n        result = calc.list_items()\n        self.assertIsInstance(result, list)\n\n    def test_meaningful_error_messages(self):\n        calc = OrderCalculator()\n        try:\n            calc.add_item(\"\", 10.0)\n        except ValueError as e:\n            self.assertIsInstance(str(e), str)\n\n    def test_exception_on_invalid_item_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        try:\n            calc.remove_item(\"Gadget\")\n        except ValueError as e:\n            self.assertIsInstance(str(e), str)\n\n    def test_independent_calculators(self):\n        calc1 = OrderCalculator()\n        calc2 = OrderCalculator()\n        calc1.add_item(\"Widget\", 10.0)\n        self.assertTrue(calc2.is_empty())\n\n    def test_parameter_independence(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n\nif __name__ == '__main__':\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_default_initialization(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n        self.assertTrue(calc.is_empty())\n\n    def test_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_maximum_tax_rate(self):\n        calc = OrderCalculator(tax_rate=1.0)\n        self.assertEqual(calc.tax_rate, 1.0)\n\n    def test_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_zero_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_tax_rate_above_one(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=1.5)\n\n    def test_negative_free_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-50.0)\n\n    def test_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_string_tax_rate(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=\"0.23\")\n\n    def test_string_free_shipping_threshold(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(free_shipping_threshold=\"100\")\n\n    def test_string_shipping_cost(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(shipping_cost=\"10\")\n\n    def test_none_as_tax_rate(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=None)\n\n    def test_list_as_parameter(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=[0.23])\n\n    def test_add_single_item_with_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_single_item_with_specified_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_merge_duplicate_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 2)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_float_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 9.99)\n        self.assertAlmostEqual(calc.get_subtotal(), 9.99)\n\n    def test_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1000)\n        self.assertEqual(calc.total_items(), 1000)\n\n    def test_item_with_spaces_in_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Premium Widget\", 10.0)\n        self.assertIn(\"Premium Widget\", calc.list_items())\n\n    def test_minimum_valid_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_very_small_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 0.01)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01)\n\n    def test_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 99999.99)\n        self.assertAlmostEqual(calc.get_subtotal(), 99999.99)\n\n    def test_multiple_merges(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 10)\n\n    def test_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 10.0)\n\n    def test_whitespace_only_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 10.0)\n\n    def test_zero_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 0.0)\n\n    def test_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", -10.0)\n\n    def test_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 10.0, 0)\n\n    def test_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 10.0, -5)\n\n    def test_same_name_different_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Widget\", 15.0)\n\n    def test_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 10.0)\n\n    def test_non_numeric_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Widget\", \"10.00\")\n\n    def test_non_integer_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Widget\", 10.0, 5.5)\n\n    def test_none_as_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(None, 10.0)\n\n    def test_list_as_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Widget\", [10.0])\n\n    def test_remove_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_from_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        calc.remove_item(\"Gadget\")\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n        self.assertIn(\"Widget\", items)\n        self.assertIn(\"Tool\", items)\n\n    def test_remove_last_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_non_existent_item(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Widget\")\n\n    def test_remove_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Widget\")\n\n    def test_remove_already_removed_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Widget\")\n\n    def test_remove_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.remove_item(123)\n\n    def test_remove_none_as_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.remove_item(None)\n\n    def test_remove_case_sensitivity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 10.0)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"item\")\n\n    def test_single_item_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 10.0)\n\n    def test_single_item_with_quantity_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 30.0)\n\n    def test_multiple_items_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Gadget\", 5.0, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 35.0)\n\n    def test_float_precision_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 9.99, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 29.97, places=2)\n\n    def test_empty_order_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.get_subtotal()\n\n    def test_after_removing_all_items_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        with self.assertRaises(ValueError):\n            calc.get_subtotal()\n\n    def test_no_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertAlmostEqual(result, 100.0)\n\n    def test_full_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 1.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_partial_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.2)\n        self.assertAlmostEqual(result, 80.0)\n\n    def test_discount_on_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 0.5)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_small_discount(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.01)\n        self.assertAlmostEqual(result, 99.0)\n\n    def test_negative_subtotal_discount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 0.2)\n\n    def test_negative_discount_rate(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -0.1)\n\n    def test_discount_above_one(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 1.5)\n\n    def test_string_subtotal_discount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(\"100\", 0.2)\n\n    def test_string_discount_rate(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(100.0, \"0.2\")\n\n    def test_none_as_subtotal_discount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(None, 0.2)\n\n    def test_none_as_discount_rate(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(100.0, None)\n\n    def test_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_shipping_at_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(100.0)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(150.0)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(0.0)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(99.99)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(100.01)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_string_input_shipping(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping(\"100\")\n\n    def test_none_input_shipping(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping(None)\n\n    def test_list_input_shipping(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping([100.0])\n\n    def test_positive_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(tax, 23.0)\n\n    def test_zero_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(0.0)\n        self.assertAlmostEqual(tax, 0.0)\n\n    def test_small_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(0.01)\n        self.assertAlmostEqual(tax, 0.0023, places=4)\n\n    def test_large_amount_tax(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(10000.0)\n        self.assertAlmostEqual(tax, 2300.0)\n\n    def test_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.15)\n        tax = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(tax, 15.0)\n\n    def test_negative_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_string_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax(\"100\")\n\n    def test_none_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax(None)\n\n    def test_list_amount_tax(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax([100.0])\n\n    def test_total_without_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0, 2)\n        total = calc.calculate_total(0.0)\n        expected = (100.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total = calc.calculate_total(0.2)\n        expected = (80.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_with_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_without_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 150.0)\n        total = calc.calculate_total(0.0)\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_at_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total = calc.calculate_total(0.0)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_complete_calculation_flow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0, 2)\n        total = calc.calculate_total(0.1)\n        subtotal = 200.0\n        discounted = 180.0\n        shipping = 0.0\n        tax = (180.0 + 0.0) * 0.23\n        expected = 180.0 + 0.0 + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_multiple_items_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 30.0)\n        calc.add_item(\"Gadget\", 40.0)\n        calc.add_item(\"Tool\", 50.0)\n        total = calc.calculate_total(0.0)\n        expected = (120.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_zero_discount_explicit(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total1 = calc.calculate_total(0.0)\n        total2 = calc.calculate_total()\n        self.assertAlmostEqual(total1, total2)\n\n    def test_empty_order_total(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_total()\n\n    def test_full_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(1.0)\n        expected = (0.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_subtotal_at_threshold_after_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 125.0)\n        total = calc.calculate_total(0.2)\n        discounted = 100.0\n        shipping = 0.0\n        expected = (100.0 + 0.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_negative_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-0.1)\n\n    def test_discount_above_one_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(1.5)\n\n    def test_string_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(TypeError):\n            calc.calculate_total(\"0.2\")\n\n    def test_none_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(TypeError):\n            calc.calculate_total(None)\n\n    def test_list_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        with self.assertRaises(TypeError):\n            calc.calculate_total([0.2])\n\n    def test_empty_order_total_items(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_single_item_quantity_one_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_single_item_quantity_multiple_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_multiple_items_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Gadget\", 15.0, 3)\n        calc.add_item(\"Tool\", 20.0, 5)\n        self.assertEqual(calc.total_items(), 10)\n\n    def test_after_merge_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 2)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_after_removal_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 7)\n        calc.add_item(\"Gadget\", 15.0, 3)\n        calc.remove_item(\"Gadget\")\n        self.assertEqual(calc.total_items(), 7)\n\n    def test_clear_non_empty_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_empty_order(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_and_verify_items_gone(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.clear_order()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_clear_and_verify_total_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_multiple_times(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.clear_order()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_empty_order_list_items(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_single_item_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        items = calc.list_items()\n        self.assertEqual(len(items), 1)\n        self.assertIn(\"Widget\", items)\n\n    def test_multiple_items_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        items = calc.list_items()\n        self.assertEqual(len(items), 3)\n        self.assertIn(\"Widget\", items)\n        self.assertIn(\"Gadget\", items)\n        self.assertIn(\"Tool\", items)\n\n    def test_no_duplicates_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Widget\", 10.0, 2)\n        items = calc.list_items()\n        self.assertEqual(len(items), 1)\n        self.assertIn(\"Widget\", items)\n\n    def test_order_of_names_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n\n    def test_after_removal_list_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        calc.add_item(\"Tool\", 15.0)\n        calc.remove_item(\"Gadget\")\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n        self.assertIn(\"Widget\", items)\n        self.assertIn(\"Tool\", items)\n\n    def test_initially_empty(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_after_adding_item_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        self.assertFalse(calc.is_empty())\n\n    def test_after_removing_all_items_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.remove_item(\"Widget\")\n        self.assertTrue(calc.is_empty())\n\n    def test_after_clearing_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_multiple_items_present_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        calc.add_item(\"Gadget\", 20.0)\n        self.assertFalse(calc.is_empty())\n\n    def test_complete_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0, 2)\n        calc.add_item(\"Gadget\", 30.0)\n        total = calc.calculate_total(0.1)\n        self.assertGreater(total, 0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_remove_add_cycle(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.remove_item(\"Widget\")\n        calc.add_item(\"Widget\", 10.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_multiple_discounts(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 100.0)\n        total1 = calc.calculate_total(0.1)\n        total2 = calc.calculate_total(0.2)\n        self.assertNotEqual(total1, total2)\n\n    def test_shipping_threshold_boundary(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 125.0)\n        total = calc.calculate_total(0.2)\n        discounted = 100.0\n        shipping = calc.calculate_shipping(discounted)\n        self.assertAlmostEqual(shipping, 0.0)\n\n    def test_tax_calculation_on_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(0.0)\n        base = 50.0 + 10.0\n        expected = base * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_quantity_accumulation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 1)\n        calc.add_item(\"Widget\", 10.0, 2)\n        calc.add_item(\"Widget\", 10.0, 3)\n        self.assertEqual(calc.total_items(), 6)\n\n    def test_mixed_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"A\", 10.0)\n        calc.add_item(\"B\", 20.0)\n        calc.add_item(\"C\", 30.0)\n        calc.add_item(\"D\", 40.0)\n        calc.add_item(\"E\", 50.0)\n        calc.remove_item(\"B\")\n        calc.remove_item(\"D\")\n        calc.clear_order()\n        calc.add_item(\"X\", 15.0)\n        calc.add_item(\"Y\", 25.0)\n        calc.add_item(\"Z\", 35.0)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_free_shipping_qualification(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        self.assertAlmostEqual(calc.calculate_shipping(calc.get_subtotal()), 10.0)\n        calc.add_item(\"Gadget\", 60.0)\n        self.assertAlmostEqual(calc.calculate_shipping(calc.get_subtotal()), 0.0)\n\n    def test_discount_affecting_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 150.0)\n        discounted = calc.apply_discount(150.0, 0.5)\n        shipping = calc.calculate_shipping(discounted)\n        self.assertAlmostEqual(shipping, 10.0)\n\n    def test_full_workflow_with_custom_params(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0)\n        calc.add_item(\"Widget\", 100.0, 2)\n        total = calc.calculate_total(0.1)\n        discounted = 180.0\n        shipping = 15.0\n        expected = (180.0 + 15.0) * 1.15\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_large_order_calculation(self):\n        calc = OrderCalculator()\n        for i in range(50):\n            calc.add_item(f\"Item{i}\", 10.0 + i, 1)\n        total = calc.calculate_total(0.1)\n        self.assertGreater(total, 0)\n\n    def test_precision_in_full_calculation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 9.99, 3)\n        total = calc.calculate_total(0.15)\n        subtotal = 29.97\n        discounted = 29.97 * 0.85\n        shipping = calc.calculate_shipping(discounted)\n        expected = (discounted + shipping) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_state_after_exceptions(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 5)\n        try:\n            calc.add_item(\"Widget\", 20.0)\n        except ValueError:\n            pass\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_remove_and_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0, 2)\n        calc.add_item(\"Gadget\", 30.0, 1)\n        calc.remove_item(\"Gadget\")\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 100.0)\n\n    def test_zero_total_scenario(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(1.0)\n        expected = (0.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_minimal_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 0.01, 1)\n        total = calc.calculate_total(0.0)\n        expected = (0.01 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_maximum_values(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 99999.99, 1000)\n        total = calc.calculate_total(0.0)\n        self.assertGreater(total, 0)\n\n    def test_all_edge_combinations(self):\n        calc = OrderCalculator(tax_rate=0.0, shipping_cost=0.0)\n        calc.add_item(\"Widget\", 50.0)\n        total = calc.calculate_total(1.0)\n        self.assertAlmostEqual(total, 0.0)\n\n    def test_state_consistency(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0, 3)\n        calc.add_item(\"Gadget\", 20.0, 2)\n        total_items = calc.total_items()\n        list_items = calc.list_items()\n        self.assertEqual(total_items, 7)\n        self.assertEqual(len(list_items), 2)\n\n    def test_return_type_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        result = calc.get_subtotal()\n        self.assertIsInstance(result, float)\n\n    def test_return_type_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        result = calc.calculate_total()\n        self.assertIsInstance(result, float)\n\n    def test_return_type_total_items(self):\n        calc = OrderCalculator()\n        result = calc.total_items()\n        self.assertIsInstance(result, int)\n\n    def test_return_type_is_empty(self):\n        calc = OrderCalculator()\n        result = calc.is_empty()\n        self.assertIsInstance(result, bool)\n\n    def test_return_type_list_items(self):\n        calc = OrderCalculator()\n        result = calc.list_items()\n        self.assertIsInstance(result, list)\n\n    def test_meaningful_error_messages(self):\n        calc = OrderCalculator()\n        try:\n            calc.add_item(\"\", 10.0)\n        except ValueError as e:\n            self.assertIsInstance(str(e), str)\n\n    def test_exception_on_invalid_item_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 10.0)\n        try:\n            calc.remove_item(\"Gadget\")\n        except ValueError as e:\n            self.assertIsInstance(str(e), str)\n\n    def test_independent_calculators(self):\n        calc1 = OrderCalculator()\n        calc2 = OrderCalculator()\n        calc1.add_item(\"Widget\", 10.0)\n        self.assertTrue(calc2.is_empty())\n\n    def test_parameter_independence(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=15.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n\nif __name__ == '__main__':\n    unittest.main()\n```",
    "total_response_time": 300.0976469516754,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface_docstring"
  }
}