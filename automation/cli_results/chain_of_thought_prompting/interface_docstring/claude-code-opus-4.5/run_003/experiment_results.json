{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface_docstring",
  "timestamp": "2025-12-30T02:38:04.271498",
  "response_time": 209.6213686466217,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface_docstring\\claude-code-opus-4.5\\run_003\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet.\n\nBelow is the interface+docstrings of the class:\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict):\n    \"\"\"\n    Represents a single product entry in the order.\n\n:key name: The name of the product.\n    :key price: The price per unit of the product.\n    :key quantity: The number of units of the product.\n    \"\"\"\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n        \"\"\"\n        Initializes a new OrderCalculator instance.\n        Initializes an empty list of items (each represented as a TypedDict 'Item')\n        and stores the configured tax and shipping parameters.\n\n:param tax_rate: The percentage of tax applied to the final amount, expressed as a float between 0.0 and 1.0 (default is 0.23 for 23%).\n        :param free_shipping_threshold: The minimum order value (after discount) that qualifies for free shipping (default is 100.0).\n        :param shipping_cost: The cost of shipping applied if the order does not meet the free shipping threshold (default is 10.0).\n\n:raises ValueError:\n            - If tax_rate is not in the range [0.0, 1.0].\n            - If free_shipping_threshold is negative.\n            - If shipping_cost is negative.\n        :raises TypeError: If any parameter is of incorrect type.\n        \"\"\"\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n        \"\"\"\n        Add an item to the order.\n\nIf an item with the same name and price already exists, its quantity is increased.\n\n:param name: the name of the item\n        :param price: the price of the item\n        :param quantity: the quantity of the item (default is 1)\n        :raises ValueError: If name is empty, price <= 0, quantity < 1, or item with same name but different price exists.\n        :raises TypeError: If inputs are of incorrect types.\n        \"\"\"\n\ndef remove_item(self, name: str):\n        \"\"\"\n        Removes an item from the order.\n\n:param name: The name of the item to remove.\n        :raises ValueError: If no item with the given name exists in the order.\n        :raises TypeError: If name is not a string.\n        \"\"\"\n\ndef get_subtotal(self) -> float:\n        \"\"\"\n        Calculates the subtotal (sum of item prices times their quantities) for all items in the order.\n\n:return: The subtotal as a float.\n        :raises ValueError: If the order is empty.\n        \"\"\"\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n        \"\"\"\n        Applies a percentage discount to the given subtotal.\n\n:param subtotal: the subtotal amount (must be >= 0)\n        :param discount: the discount rate as a float between 0.0 and 1.0 (e.g. 0.2 = 20%).\n        :return: The discounted subtotal.\n        :raises ValueError: If subtotal < 0 or discount is outside the [0.0, 1.0] range.\n        :raises TypeError: If inputs are of incorrect types.\n        \"\"\"\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n        \"\"\"\n        Calculates the shipping cost based on the discounted subtotal.\n\nIf the discounted subtotal >= free shipping threshold shipping is free (0.0).\n        Otherwise, the standard shipping cost is applied.\n\n:param discounted_subtotal: The subtotal amount after applying discount (must be >= 0.0).\n        :return: The shipping cost as a float (0.0 or self.shipping_cost).\n        :raises TypeError: If input is not a number.\n        \"\"\"\n\ndef calculate_tax(self, amount: float) -> float:\n        \"\"\"\n        Calculates the tax based on the provided amount using the configured tax rate.\n\n:param amount: The amount on which to calculate the tax (must be >= 0.0).\n        :return: The tax as a float.\n        :raises ValueError: If the amount is negative.\n        :raises TypeError: If input is not a number.\n        \"\"\"\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n        \"\"\"\n        Calculates the total cost of the order after applying discount, shipping, and tax.\n\nThis method performs the following steps:\n        1. Calculates the subtotal from all items.\n        2. Applies the given discount.\n        3. Adds shipping cost if necessary.\n        4. Calculates tax on the discounted subtotal + shipping.\n\n:param discount: Discount rate between 0.0 and 1.0 (e.g. 0.2 = 20%).\n        :return: The final total as a float.\n        :raises ValueError:\n            - If the subtotal is negative.\n            - If the discount is invalid.\n            - If the order is empty.\n        :raises TypeError: If input is not a number.\n        \"\"\"\n\ndef total_items(self) -> int:\n        \"\"\"\n        Returns the total quantity of all items in the order.\n\n:return: The sum of the quantities of all items.\n        :return:\n        \"\"\"\n\ndef clear_order(self):\n        \"\"\"\n        Removes all items from the order, resetting it to an empty state.\n        \"\"\"\n\ndef list_items(self) -> List[str]:\n        \"\"\"\n        Returns a list of all unique item names currently in the order.\n\n:return: A list of unique item names (no duplicates).\n        \"\"\"\n\ndef is_empty(self) -> bool:\n        \"\"\"\n        Checks whether the order is currently empty.\n\n:return: True if no items are in the order, False otherwise.\n        \"\"\"\n```",
        "response": "Looking at the `OrderCalculator` class, I'll analyze each method to identify test cases.\n\n## Analysis of Test Cases\n\n### `__init__` (Constructor)\n**Typical cases:**\n- Default parameters (tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0)\n- Custom valid parameters\n\n**Edge cases:**\n- tax_rate at boundaries (0.0, 1.0)\n- free_shipping_threshold = 0\n- shipping_cost = 0\n\n**Invalid inputs:**\n- tax_rate < 0 or > 1.0 â†’ ValueError\n- Negative free_shipping_threshold â†’ ValueError\n- Negative shipping_cost â†’ ValueError\n- Non-numeric types for any parameter â†’ TypeError\n\n### `add_item`\n**Typical cases:**\n- Add single item with default quantity\n- Add item with explicit quantity\n- Add same item twice (quantity increases)\n\n**Edge cases:**\n- Minimum valid quantity (1)\n- Large quantity values\n- Item with same name and price (merge behavior)\n\n**Invalid inputs:**\n- Empty name â†’ ValueError\n- price â‰¤ 0 â†’ ValueError\n- quantity < 1 â†’ ValueError\n- Same name but different price â†’ ValueError\n- Wrong types (non-string name, non-numeric price, non-int quantity) â†’ TypeError\n\n### `remove_item`\n**Typical cases:**\n- Remove existing item\n\n**Invalid inputs:**\n- Remove non-existent item â†’ ValueError\n- Non-string name â†’ TypeError\n\n### `get_subtotal`\n**Typical cases:**\n- Single item subtotal\n- Multiple items subtotal\n\n**Invalid inputs:**\n- Empty order â†’ ValueError\n\n### `apply_discount`\n**Typical cases:**\n- Apply 0% discount\n- Apply 20% discount\n- Apply 100% discount\n\n**Edge cases:**\n- discount = 0.0, discount = 1.0 (boundaries)\n- subtotal = 0\n\n**Invalid inputs:**\n- Negative subtotal â†’ ValueError\n- discount < 0 or > 1.0 â†’ ValueError\n- Non-numeric types â†’ TypeError\n\n### `calculate_shipping`\n**Typical cases:**\n- Subtotal below threshold (shipping charged)\n- Subtotal above threshold (free shipping)\n\n**Edge cases:**\n- Subtotal exactly at threshold\n- Subtotal = 0\n\n**Invalid inputs:**\n- Non-numeric input â†’ TypeError\n\n### `calculate_tax`\n**Typical cases:**\n- Tax on positive amount\n\n**Edge cases:**\n- amount = 0\n\n**Invalid inputs:**\n- Negative amount â†’ ValueError\n- Non-numeric type â†’ TypeError\n\n### `calculate_total`\n**Typical cases:**\n- Order with items, no discount\n- Order with items, with discount\n- Order qualifying for free shipping\n\n**Edge cases:**\n- discount = 0.0, discount = 1.0\n- Subtotal exactly at free shipping threshold\n\n**Invalid inputs:**\n- Empty order â†’ ValueError\n- Invalid discount â†’ ValueError\n- Non-numeric discount â†’ TypeError\n\n### `total_items`\n**Typical cases:**\n- Single item, single quantity\n- Multiple items with various quantities\n\n**Edge cases:**\n- Empty order (should return 0)\n\n### `clear_order`\n**Typical cases:**\n- Clear order with items\n- Clear already empty order\n\n### `list_items`\n**Typical cases:**\n- List items from populated order\n- List from empty order (empty list)\n\n### `is_empty`\n**Typical cases:**\n- Empty order â†’ True\n- Order with items â†’ False\n\n---\n\n**Summary:** I've identified approximately 50+ distinct test scenarios covering constructors, item management, calculations (subtotal, discount, shipping, tax, total), and utility methods. Tests will validate correct behavior, boundary conditions, and proper exception handling for invalid inputs.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### `__init__` (Constructor)\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 1 | `__init__` | Normal | Verify default parameters are correctly set (tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0) |\n| 2 | `__init__` | Normal | Verify custom valid parameters are accepted and stored |\n| 3 | `__init__` | Edge | tax_rate=0.0 (boundary - no tax) |\n| 4 | `__init__` | Edge | tax_rate=1.0 (boundary - 100% tax) |\n| 5 | `__init__` | Edge | free_shipping_threshold=0 (always free shipping) |\n| 6 | `__init__` | Edge | shipping_cost=0 (free shipping regardless of threshold) |\n| 7 | `__init__` | Exception | tax_rate < 0 raises ValueError |\n| 8 | `__init__` | Exception | tax_rate > 1.0 raises ValueError |\n| 9 | `__init__` | Exception | Negative free_shipping_threshold raises ValueError |\n| 10 | `__init__` | Exception | Negative shipping_cost raises ValueError |\n| 11 | `__init__` | Exception | Non-numeric tax_rate (e.g., string) raises TypeError |\n| 12 | `__init__` | Exception | Non-numeric free_shipping_threshold raises TypeError |\n| 13 | `__init__` | Exception | Non-numeric shipping_cost raises TypeError |\n| 14 | `__init__` | Normal | Verify items list is initialized empty |\n\n### `add_item`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 15 | `add_item` | Normal | Add single item with default quantity (1) |\n| 16 | `add_item` | Normal | Add item with explicit quantity > 1 |\n| 17 | `add_item` | Normal | Add multiple different items |\n| 18 | `add_item` | Normal | Add same item twice (same name and price) - quantity merges |\n| 19 | `add_item` | Edge | Add item with quantity=1 (minimum valid) |\n| 20 | `add_item` | Edge | Add item with very large quantity |\n| 21 | `add_item` | Edge | Add item with very small price (e.g., 0.01) |\n| 22 | `add_item` | Exception | Empty name raises ValueError |\n| 23 | `add_item` | Exception | Whitespace-only name raises ValueError |\n| 24 | `add_item` | Exception | price=0 raises ValueError |\n| 25 | `add_item` | Exception | Negative price raises ValueError |\n| 26 | `add_item` | Exception | quantity=0 raises ValueError |\n| 27 | `add_item` | Exception | Negative quantity raises ValueError |\n| 28 | `add_item` | Exception | Same name but different price raises ValueError |\n| 29 | `add_item` | Exception | Non-string name raises TypeError |\n| 30 | `add_item` | Exception | Non-numeric price raises TypeError |\n| 31 | `add_item` | Exception | Non-integer quantity raises TypeError |\n\n### `remove_item`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 32 | `remove_item` | Normal | Remove existing item from order |\n| 33 | `remove_item` | Normal | Remove item, verify it's no longer in list_items |\n| 34 | `remove_item` | Exception | Remove non-existent item raises ValueError |\n| 35 | `remove_item` | Exception | Non-string name raises TypeError |\n| 36 | `remove_item` | Edge | Remove last item, order becomes empty |\n\n### `get_subtotal`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 37 | `get_subtotal` | Normal | Single item subtotal (price Ă— quantity) |\n| 38 | `get_subtotal` | Normal | Multiple items subtotal (sum of all) |\n| 39 | `get_subtotal` | Normal | Item with quantity > 1 |\n| 40 | `get_subtotal` | Edge | Single item with quantity=1 and price=0.01 |\n| 41 | `get_subtotal` | Exception | Empty order raises ValueError |\n\n### `apply_discount`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 42 | `apply_discount` | Normal | Apply 20% discount (0.2) |\n| 43 | `apply_discount` | Normal | Apply 50% discount |\n| 44 | `apply_discount` | Edge | Apply 0% discount (returns original subtotal) |\n| 45 | `apply_discount` | Edge | Apply 100% discount (returns 0) |\n| 46 | `apply_discount` | Edge | subtotal=0 with any valid discount |\n| 47 | `apply_discount` | Exception | Negative subtotal raises ValueError |\n| 48 | `apply_discount` | Exception | discount < 0 raises ValueError |\n| 49 | `apply_discount` | Exception | discount > 1.0 raises ValueError |\n| 50 | `apply_discount` | Exception | Non-numeric subtotal raises TypeError |\n| 51 | `apply_discount` | Exception | Non-numeric discount raises TypeError |\n\n### `calculate_shipping`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 52 | `calculate_shipping` | Normal | Subtotal below threshold - shipping charged |\n| 53 | `calculate_shipping` | Normal | Subtotal above threshold - free shipping |\n| 54 | `calculate_shipping` | Edge | Subtotal exactly at threshold - free shipping |\n| 55 | `calculate_shipping` | Edge | Subtotal just below threshold (e.g., 99.99) |\n| 56 | `calculate_shipping` | Edge | Subtotal=0 - shipping charged |\n| 57 | `calculate_shipping` | Exception | Non-numeric input raises TypeError |\n\n### `calculate_tax`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 58 | `calculate_tax` | Normal | Tax on positive amount |\n| 59 | `calculate_tax` | Normal | Verify correct tax rate applied |\n| 60 | `calculate_tax` | Edge | amount=0 returns 0 tax |\n| 61 | `calculate_tax` | Edge | Very small amount (0.01) |\n| 62 | `calculate_tax` | Exception | Negative amount raises ValueError |\n| 63 | `calculate_tax` | Exception | Non-numeric input raises TypeError |\n\n### `calculate_total`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 64 | `calculate_total` | Normal | Order with items, no discount |\n| 65 | `calculate_total` | Normal | Order with items, with discount |\n| 66 | `calculate_total` | Normal | Order qualifying for free shipping |\n| 67 | `calculate_total` | Normal | Order not qualifying for free shipping |\n| 68 | `calculate_total` | Edge | discount=0.0 (default) |\n| 69 | `calculate_total` | Edge | discount=1.0 (100% off) |\n| 70 | `calculate_total` | Edge | Subtotal exactly at free shipping threshold after discount |\n| 71 | `calculate_total` | Normal | Verify calculation: subtotal - discount + shipping + tax |\n| 72 | `calculate_total` | Exception | Empty order raises ValueError |\n| 73 | `calculate_total` | Exception | Invalid discount (negative) raises ValueError |\n| 74 | `calculate_total` | Exception | Invalid discount (> 1.0) raises ValueError |\n| 75 | `calculate_total` | Exception | Non-numeric discount raises TypeError |\n\n### `total_items`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 76 | `total_items` | Normal | Single item with quantity=1 |\n| 77 | `total_items` | Normal | Single item with quantity > 1 |\n| 78 | `total_items` | Normal | Multiple items - sum of all quantities |\n| 79 | `total_items` | Edge | Empty order returns 0 |\n\n### `clear_order`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 80 | `clear_order` | Normal | Clear order with items - order becomes empty |\n| 81 | `clear_order` | Edge | Clear already empty order - no error |\n| 82 | `clear_order` | Normal | After clear, is_empty returns True |\n| 83 | `clear_order` | Normal | After clear, total_items returns 0 |\n\n### `list_items`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 84 | `list_items` | Normal | List items from order with single item |\n| 85 | `list_items` | Normal | List items from order with multiple items |\n| 86 | `list_items` | Edge | Empty order returns empty list |\n| 87 | `list_items` | Normal | Verify uniqueness (no duplicate names) |\n\n### `is_empty`\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 88 | `is_empty` | Normal | Empty order returns True |\n| 89 | `is_empty` | Normal | Order with items returns False |\n| 90 | `is_empty` | Edge | After adding then removing item, returns True |\n\n### Integration/Workflow Scenarios\n\n| # | Method | Case Type | Intent |\n|---|--------|-----------|--------|\n| 91 | Multiple | Workflow | Add items, get subtotal, apply discount, calculate total |\n| 92 | Multiple | Workflow | Add items, remove some, verify subtotal updates |\n| 93 | Multiple | Workflow | Full order lifecycle: add, calculate, clear, verify empty |\n| 94 | Multiple | Edge | Order with many items (stress test) |\n| 95 | Multiple | Normal | Verify tax is applied to (discounted_subtotal + shipping) |",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_valid_parameters(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.1)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_tax_rate_zero(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_init_tax_rate_one(self):\n        calc = OrderCalculator(tax_rate=1.0)\n        self.assertEqual(calc.tax_rate, 1.0)\n\n    def test_init_free_shipping_threshold_zero(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_init_shipping_cost_zero(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_init_negative_tax_rate_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_tax_rate_greater_than_one_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=1.1)\n\n    def test_init_negative_free_shipping_threshold_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-1.0)\n\n    def test_init_negative_shipping_cost_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-1.0)\n\n    def test_init_non_numeric_tax_rate_raises_type_error(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=\"0.23\")\n\n    def test_init_non_numeric_free_shipping_threshold_raises_type_error(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(free_shipping_threshold=\"100\")\n\n    def test_init_non_numeric_shipping_cost_raises_type_error(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(shipping_cost=\"10\")\n\n    def test_init_items_list_empty(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_item_single_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        self.assertEqual(len(calc.list_items()), 2)\n\n    def test_add_item_same_name_same_price_merges_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_minimum_valid_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 10000)\n        self.assertEqual(calc.total_items(), 10000)\n\n    def test_add_item_small_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Candy\", 0.01, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01)\n\n    def test_add_item_empty_name_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_whitespace_name_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 1.50)\n\n    def test_add_item_zero_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 0)\n\n    def test_add_item_negative_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50)\n\n    def test_add_item_zero_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_negative_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_same_name_different_price_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 2.00)\n\n    def test_add_item_non_string_name_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 1.50)\n\n    def test_add_item_non_numeric_price_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", \"1.50\")\n\n    def test_add_item_non_integer_quantity_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_verify_not_in_list(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n\n    def test_remove_item_non_existent_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_non_string_name_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.remove_item(123)\n\n    def test_remove_item_last_item_order_becomes_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 6.00)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 2)\n        calc.add_item(\"Banana\", 1.00, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 7.00)\n\n    def test_get_subtotal_item_with_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 10)\n        self.assertAlmostEqual(calc.get_subtotal(), 15.00)\n\n    def test_get_subtotal_small_price_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Candy\", 0.01, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01)\n\n    def test_get_subtotal_empty_order_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.get_subtotal()\n\n    def test_apply_discount_twenty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.2)\n        self.assertAlmostEqual(result, 80.0)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.5)\n        self.assertAlmostEqual(result, 50.0)\n\n    def test_apply_discount_zero_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertAlmostEqual(result, 100.0)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 1.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_apply_discount_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 0.5)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_apply_discount_negative_subtotal_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 0.2)\n\n    def test_apply_discount_negative_discount_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -0.1)\n\n    def test_apply_discount_greater_than_one_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 1.1)\n\n    def test_apply_discount_non_numeric_subtotal_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(\"100\", 0.2)\n\n    def test_apply_discount_non_numeric_discount_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(100.0, \"0.2\")\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_shipping_non_numeric_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping(\"100\")\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 23.0)\n\n    def test_calculate_tax_correct_rate_applied(self):\n        calc = OrderCalculator(tax_rate=0.1)\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_calculate_tax_small_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.01)\n        self.assertAlmostEqual(result, 0.0023)\n\n    def test_calculate_tax_negative_amount_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_non_numeric_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax(\"100\")\n\n    def test_calculate_total_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        total = calc.calculate_total(0.2)\n        expected = (80.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_qualifies_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 150.0, 1)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_not_qualifies_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_zero_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total(1.0)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_exactly_at_threshold_after_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 125.0, 1)\n        total = calc.calculate_total(0.2)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_verify_calculation(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Apple\", 40.0, 1)\n        total = calc.calculate_total(0.1)\n        discounted = 36.0\n        shipping = 5.0\n        tax = (36.0 + 5.0) * 0.1\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_empty_order_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_total()\n\n    def test_calculate_total_negative_discount_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-0.1)\n\n    def test_calculate_total_discount_greater_than_one_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(1.1)\n\n    def test_calculate_total_non_numeric_discount_raises_type_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(TypeError):\n            calc.calculate_total(\"0.2\")\n\n    def test_total_items_single_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_already_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_is_empty_returns_true(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_total_items_returns_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_uniqueness(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_is_empty_true(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_false(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_add_and_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_workflow_add_subtotal_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 20.0, 2)\n        calc.add_item(\"Banana\", 10.0, 3)\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 70.0)\n        discounted = calc.apply_discount(subtotal, 0.1)\n        self.assertAlmostEqual(discounted, 63.0)\n        total = calc.calculate_total(0.1)\n        expected = (63.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_workflow_add_remove_verify_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 20.0, 2)\n        calc.add_item(\"Banana\", 10.0, 3)\n        calc.remove_item(\"Apple\")\n        self.assertAlmostEqual(calc.get_subtotal(), 30.0)\n\n    def test_workflow_full_lifecycle(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 20.0, 2)\n        self.assertFalse(calc.is_empty())\n        total = calc.calculate_total()\n        self.assertGreater(total, 0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_workflow_many_items(self):\n        calc = OrderCalculator()\n        for i in range(100):\n            calc.add_item(f\"Item{i}\", 1.0, 1)\n        self.assertEqual(calc.total_items(), 100)\n        self.assertEqual(len(calc.list_items()), 100)\n\n    def test_tax_applied_to_discounted_subtotal_plus_shipping(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=100.0, shipping_cost=10.0)\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.1\n        self.assertAlmostEqual(total, expected)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_valid_parameters(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.1)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_tax_rate_zero(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_init_tax_rate_one(self):\n        calc = OrderCalculator(tax_rate=1.0)\n        self.assertEqual(calc.tax_rate, 1.0)\n\n    def test_init_free_shipping_threshold_zero(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_init_shipping_cost_zero(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_init_negative_tax_rate_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_tax_rate_greater_than_one_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=1.1)\n\n    def test_init_negative_free_shipping_threshold_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-1.0)\n\n    def test_init_negative_shipping_cost_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-1.0)\n\n    def test_init_non_numeric_tax_rate_raises_type_error(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(tax_rate=\"0.23\")\n\n    def test_init_non_numeric_free_shipping_threshold_raises_type_error(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(free_shipping_threshold=\"100\")\n\n    def test_init_non_numeric_shipping_cost_raises_type_error(self):\n        with self.assertRaises(TypeError):\n            OrderCalculator(shipping_cost=\"10\")\n\n    def test_init_items_list_empty(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_item_single_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        self.assertEqual(len(calc.list_items()), 2)\n\n    def test_add_item_same_name_same_price_merges_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_minimum_valid_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 10000)\n        self.assertEqual(calc.total_items(), 10000)\n\n    def test_add_item_small_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Candy\", 0.01, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01)\n\n    def test_add_item_empty_name_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_whitespace_name_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 1.50)\n\n    def test_add_item_zero_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 0)\n\n    def test_add_item_negative_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50)\n\n    def test_add_item_zero_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_negative_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_same_name_different_price_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 2.00)\n\n    def test_add_item_non_string_name_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 1.50)\n\n    def test_add_item_non_numeric_price_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", \"1.50\")\n\n    def test_add_item_non_integer_quantity_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_verify_not_in_list(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n\n    def test_remove_item_non_existent_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_non_string_name_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.remove_item(123)\n\n    def test_remove_item_last_item_order_becomes_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 6.00)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 2)\n        calc.add_item(\"Banana\", 1.00, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 7.00)\n\n    def test_get_subtotal_item_with_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 10)\n        self.assertAlmostEqual(calc.get_subtotal(), 15.00)\n\n    def test_get_subtotal_small_price_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Candy\", 0.01, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01)\n\n    def test_get_subtotal_empty_order_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.get_subtotal()\n\n    def test_apply_discount_twenty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.2)\n        self.assertAlmostEqual(result, 80.0)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.5)\n        self.assertAlmostEqual(result, 50.0)\n\n    def test_apply_discount_zero_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertAlmostEqual(result, 100.0)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 1.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_apply_discount_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 0.5)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_apply_discount_negative_subtotal_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 0.2)\n\n    def test_apply_discount_negative_discount_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -0.1)\n\n    def test_apply_discount_greater_than_one_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 1.1)\n\n    def test_apply_discount_non_numeric_subtotal_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(\"100\", 0.2)\n\n    def test_apply_discount_non_numeric_discount_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.apply_discount(100.0, \"0.2\")\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_shipping_non_numeric_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_shipping(\"100\")\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 23.0)\n\n    def test_calculate_tax_correct_rate_applied(self):\n        calc = OrderCalculator(tax_rate=0.1)\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 10.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertAlmostEqual(result, 0.0)\n\n    def test_calculate_tax_small_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.01)\n        self.assertAlmostEqual(result, 0.0023)\n\n    def test_calculate_tax_negative_amount_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_non_numeric_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.calculate_tax(\"100\")\n\n    def test_calculate_total_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        total = calc.calculate_total(0.2)\n        expected = (80.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_qualifies_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 150.0, 1)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_not_qualifies_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_zero_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total(1.0)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_exactly_at_threshold_after_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 125.0, 1)\n        total = calc.calculate_total(0.2)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_verify_calculation(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Apple\", 40.0, 1)\n        total = calc.calculate_total(0.1)\n        discounted = 36.0\n        shipping = 5.0\n        tax = (36.0 + 5.0) * 0.1\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected)\n\n    def test_calculate_total_empty_order_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_total()\n\n    def test_calculate_total_negative_discount_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-0.1)\n\n    def test_calculate_total_discount_greater_than_one_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(1.1)\n\n    def test_calculate_total_non_numeric_discount_raises_type_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(TypeError):\n            calc.calculate_total(\"0.2\")\n\n    def test_total_items_single_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_already_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_is_empty_returns_true(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_total_items_returns_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_uniqueness(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_is_empty_true(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_false(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_add_and_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_workflow_add_subtotal_discount_total(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 20.0, 2)\n        calc.add_item(\"Banana\", 10.0, 3)\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 70.0)\n        discounted = calc.apply_discount(subtotal, 0.1)\n        self.assertAlmostEqual(discounted, 63.0)\n        total = calc.calculate_total(0.1)\n        expected = (63.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected)\n\n    def test_workflow_add_remove_verify_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 20.0, 2)\n        calc.add_item(\"Banana\", 10.0, 3)\n        calc.remove_item(\"Apple\")\n        self.assertAlmostEqual(calc.get_subtotal(), 30.0)\n\n    def test_workflow_full_lifecycle(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 20.0, 2)\n        self.assertFalse(calc.is_empty())\n        total = calc.calculate_total()\n        self.assertGreater(total, 0)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_workflow_many_items(self):\n        calc = OrderCalculator()\n        for i in range(100):\n            calc.add_item(f\"Item{i}\", 1.0, 1)\n        self.assertEqual(calc.total_items(), 100)\n        self.assertEqual(len(calc.list_items()), 100)\n\n    def test_tax_applied_to_discounted_subtotal_plus_shipping(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=100.0, shipping_cost=10.0)\n        calc.add_item(\"Apple\", 50.0, 1)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.1\n        self.assertAlmostEqual(total, expected)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 209.6213686466217,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface_docstring"
  }
}