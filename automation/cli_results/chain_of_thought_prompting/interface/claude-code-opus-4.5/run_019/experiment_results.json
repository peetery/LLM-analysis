{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface",
  "timestamp": "2025-12-30T21:43:43.119621",
  "response_time": 176.93338751792908,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface\\claude-code-opus-4.5\\run_019\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet. Do not write test scenarios yet. Just analyze the class and prepare for the next step.\n\nBelow is the class interface (without implementation):\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict)\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n\ndef remove_item(self, name: str):\n\ndef get_subtotal(self) -> float:\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n\ndef calculate_tax(self, amount: float) -> float:\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n\ndef total_items(self) -> int:\n\ndef clear_order(self):\n\ndef list_items(self) -> List[str]:\n\ndef is_empty(self) -> bool:\n\n```\n\n",
        "response": "I'll analyze the `OrderCalculator` class to understand its structure and prepare for test case generation.\n\n## Class Analysis\n\n### Class Purpose\n`OrderCalculator` is an order management class that handles shopping cart functionality with tax calculation, shipping costs, and discounts.\n\n### Constructor Parameters\n- `tax_rate` (default 0.23) - 23% tax rate\n- `free_shipping_threshold` (default 100.0) - orders above this get free shipping\n- `shipping_cost` (default 10.0) - cost when below threshold\n\n### Public Methods to Test\n\n1. **`add_item(name, price, quantity=1)`** - Adds item to order\n   - Typical: valid name, positive price, positive quantity\n   - Edge cases: quantity=1 (default), large quantities, decimal prices\n   - Invalid: empty name, negative price, zero/negative quantity, non-string name\n\n2. **`remove_item(name)`** - Removes item by name\n   - Typical: remove existing item\n   - Edge cases: remove from single-item order\n   - Invalid: remove non-existent item, empty name\n\n3. **`get_subtotal()`** - Returns sum of item prices Ă— quantities\n   - Typical: multiple items\n   - Edge cases: empty order, single item, floating point precision\n\n4. **`apply_discount(subtotal, discount)`** - Applies discount to subtotal\n   - Typical: percentage discount (0-100 range implied)\n   - Edge cases: 0% discount, 100% discount\n   - Invalid: negative discount, discount > 100%, negative subtotal\n\n5. **`calculate_shipping(discounted_subtotal)`** - Determines shipping cost\n   - Typical: below threshold (charges shipping), above threshold (free)\n   - Edge cases: exactly at threshold, zero subtotal\n\n6. **`calculate_tax(amount)`** - Calculates tax on amount\n   - Typical: positive amount\n   - Edge cases: zero amount\n   - Invalid: negative amount\n\n7. **`calculate_total(discount=0.0)`** - Full calculation with discount\n   - Typical: items with discount\n   - Edge cases: no discount, 100% discount, threshold boundaries\n\n8. **`total_items()`** - Returns total quantity count\n   - Typical: multiple items with various quantities\n   - Edge cases: empty order, single item\n\n9. **`clear_order()`** - Empties the order\n   - Typical: clear non-empty order\n   - Edge cases: clear already empty order\n\n10. **`list_items()`** - Returns list of item names\n    - Typical: multiple items\n    - Edge cases: empty order, single item\n\n11. **`is_empty()`** - Checks if order has no items\n    - Typical: empty order returns True, non-empty returns False\n\n### Key Testing Considerations\n\n- **State management**: Order maintains internal state (items list)\n- **Floating point arithmetic**: Money calculations need precision checks\n- **Threshold boundaries**: Free shipping at exactly 100.0\n- **Chained operations**: `calculate_total` uses other methods internally\n- **Type validation**: Methods may validate input types/values\n- **Exception handling**: Invalid inputs should raise appropriate exceptions (likely `ValueError`)\n\n### Dependencies\n- `Item` is a `TypedDict` - likely has `name`, `price`, `quantity` fields\n- Returns `List[str]` for `list_items()`\n\nI'm ready to generate test scenarios or test code when requested.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### `__init__` (Constructor)\n\n1. **Normal use**: Create instance with default parameters - verify default tax_rate, free_shipping_threshold, and shipping_cost are set correctly\n2. **Normal use**: Create instance with custom tax_rate - verify custom value is stored\n3. **Normal use**: Create instance with custom free_shipping_threshold - verify custom value is stored\n4. **Normal use**: Create instance with custom shipping_cost - verify custom value is stored\n5. **Normal use**: Create instance with all custom parameters - verify all values are stored\n6. **Edge case**: Create instance with zero tax_rate - verify zero tax is accepted\n7. **Edge case**: Create instance with zero shipping_cost - verify zero shipping is accepted\n8. **Edge case**: Create instance with zero free_shipping_threshold - verify threshold of zero works\n9. **Invalid input**: Create instance with negative tax_rate - expect ValueError\n10. **Invalid input**: Create instance with negative shipping_cost - expect ValueError\n11. **Invalid input**: Create instance with negative free_shipping_threshold - expect ValueError\n\n### `add_item`\n\n12. **Normal use**: Add single item with name, price, and quantity - verify item is added\n13. **Normal use**: Add item with default quantity (1) - verify quantity defaults to 1\n14. **Normal use**: Add multiple different items - verify all items are stored\n15. **Normal use**: Add item with decimal price - verify price is stored correctly\n16. **Normal use**: Add item with large quantity - verify large quantities work\n17. **Edge case**: Add item with minimum valid price (e.g., 0.01) - verify small prices work\n18. **Edge case**: Add item with quantity of 1 explicitly - verify explicit default works\n19. **Edge case**: Add same item name twice - verify behavior (update or duplicate)\n20. **Invalid input**: Add item with empty string name - expect ValueError\n21. **Invalid input**: Add item with None as name - expect TypeError or ValueError\n22. **Invalid input**: Add item with negative price - expect ValueError\n23. **Invalid input**: Add item with zero price - expect ValueError (or edge case if allowed)\n24. **Invalid input**: Add item with zero quantity - expect ValueError\n25. **Invalid input**: Add item with negative quantity - expect ValueError\n26. **Invalid input**: Add item with non-integer quantity (e.g., 1.5) - expect TypeError\n27. **Invalid input**: Add item with non-string name (e.g., integer) - expect TypeError\n\n### `remove_item`\n\n28. **Normal use**: Remove existing item from order - verify item is removed\n29. **Normal use**: Remove item from order with multiple items - verify only specified item removed\n30. **Edge case**: Remove only item in order - verify order becomes empty\n31. **Edge case**: Remove item then verify subtotal updates correctly\n32. **Invalid input**: Remove item that doesn't exist - expect ValueError or KeyError\n33. **Invalid input**: Remove item from empty order - expect ValueError or KeyError\n34. **Invalid input**: Remove with empty string name - expect ValueError\n35. **Invalid input**: Remove with None as name - expect TypeError or ValueError\n\n### `get_subtotal`\n\n36. **Normal use**: Get subtotal with single item - verify price Ă— quantity\n37. **Normal use**: Get subtotal with multiple items - verify sum of all (price Ă— quantity)\n38. **Normal use**: Get subtotal with items of varying quantities - verify correct calculation\n39. **Edge case**: Get subtotal of empty order - expect 0.0\n40. **Edge case**: Get subtotal with decimal prices - verify floating point accuracy\n41. **Edge case**: Get subtotal after removing items - verify recalculation\n\n### `apply_discount`\n\n42. **Normal use**: Apply 10% discount to subtotal - verify 90% of subtotal returned\n43. **Normal use**: Apply 50% discount - verify half subtotal returned\n44. **Edge case**: Apply 0% discount - verify full subtotal returned\n45. **Edge case**: Apply 100% discount - verify 0.0 returned\n46. **Edge case**: Apply discount to zero subtotal - verify 0.0 returned\n47. **Edge case**: Apply discount to small subtotal - verify precision maintained\n48. **Invalid input**: Apply negative discount - expect ValueError\n49. **Invalid input**: Apply discount greater than 100 - expect ValueError\n50. **Invalid input**: Apply discount to negative subtotal - expect ValueError\n\n### `calculate_shipping`\n\n51. **Normal use**: Calculate shipping for subtotal below threshold - verify shipping_cost returned\n52. **Normal use**: Calculate shipping for subtotal above threshold - verify 0.0 (free shipping)\n53. **Edge case**: Calculate shipping for subtotal exactly at threshold - verify free shipping (boundary test)\n54. **Edge case**: Calculate shipping for subtotal just below threshold (99.99) - verify shipping charged\n55. **Edge case**: Calculate shipping for subtotal just above threshold (100.01) - verify free shipping\n56. **Edge case**: Calculate shipping for zero subtotal - verify shipping_cost returned\n57. **Edge case**: Calculate shipping with custom threshold - verify custom threshold respected\n\n### `calculate_tax`\n\n58. **Normal use**: Calculate tax on positive amount - verify amount Ă— tax_rate\n59. **Normal use**: Calculate tax with default 23% rate - verify correct calculation\n60. **Normal use**: Calculate tax with custom tax rate - verify custom rate applied\n61. **Edge case**: Calculate tax on zero amount - verify 0.0 returned\n62. **Edge case**: Calculate tax with zero tax rate - verify 0.0 returned\n63. **Edge case**: Calculate tax on small amount - verify floating point precision\n64. **Invalid input**: Calculate tax on negative amount - expect ValueError\n\n### `calculate_total`\n\n65. **Normal use**: Calculate total with items and no discount - verify subtotal + shipping + tax\n66. **Normal use**: Calculate total with discount applied - verify discounted total\n67. **Normal use**: Calculate total crossing free shipping threshold after discount - verify shipping applied\n68. **Normal use**: Calculate total not crossing threshold after discount - verify free shipping\n69. **Edge case**: Calculate total with 0% discount (default) - verify full total\n70. **Edge case**: Calculate total with 100% discount - verify only shipping (if applicable) and zero tax\n71. **Edge case**: Calculate total on empty order - verify appropriate result (0 or just shipping)\n72. **Edge case**: Calculate total at exact free shipping threshold - verify boundary behavior\n73. **Edge case**: Calculate total with discount bringing subtotal exactly to threshold - verify shipping calculation\n74. **Invalid input**: Calculate total with negative discount - expect ValueError\n75. **Invalid input**: Calculate total with discount > 100 - expect ValueError\n\n### `total_items`\n\n76. **Normal use**: Count items with single item quantity 1 - verify returns 1\n77. **Normal use**: Count items with single item quantity > 1 - verify returns quantity\n78. **Normal use**: Count items with multiple items - verify sum of all quantities\n79. **Edge case**: Count items on empty order - verify returns 0\n80. **Edge case**: Count items after adding and removing - verify correct count\n\n### `clear_order`\n\n81. **Normal use**: Clear order with items - verify order becomes empty\n82. **Normal use**: Clear order and verify is_empty returns True\n83. **Normal use**: Clear order and verify subtotal is 0\n84. **Normal use**: Clear order and verify total_items is 0\n85. **Edge case**: Clear already empty order - verify no error, still empty\n\n### `list_items`\n\n86. **Normal use**: List items with single item - verify returns list with item name\n87. **Normal use**: List items with multiple items - verify returns all item names\n88. **Edge case**: List items on empty order - verify returns empty list\n89. **Edge case**: List items returns strings, not Item objects\n90. **Normal use**: List items preserves order of addition (if applicable)\n\n### `is_empty`\n\n91. **Normal use**: Check empty order - verify returns True\n92. **Normal use**: Check order with items - verify returns False\n93. **Normal use**: Check after adding then removing all items - verify returns True\n94. **Normal use**: Check after clearing order - verify returns True\n\n### Integration/Workflow Scenarios\n\n95. **Integration**: Add items, apply discount, calculate total - verify complete workflow\n96. **Integration**: Add items, remove some, calculate total - verify state consistency\n97. **Integration**: Multiple operations sequence - add, get_subtotal, add more, get_subtotal again\n98. **Integration**: Calculate total multiple times without changes - verify consistent results\n99. **Integration**: Clear order then add new items - verify fresh start works\n100. **Integration**: Verify tax is applied to discounted subtotal plus shipping (or just subtotal, depending on implementation)",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.tax_rate, 0.10)\n\n    def test_init_custom_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_init_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=20.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n        self.assertEqual(calc.shipping_cost, 20.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_init_zero_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_init_negative_tax_rate_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_shipping_cost_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_init_negative_free_shipping_threshold_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_add_item_single_item_with_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_add_item_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Pen\", 5.0)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 2)\n        self.assertEqual(len(calc.list_items()), 2)\n\n    def test_add_item_decimal_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 19.99, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 19.99, places=2)\n\n    def test_add_item_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 1.0, 1000)\n        self.assertEqual(calc.total_items(), 1000)\n\n    def test_add_item_minimum_valid_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Cheap\", 0.01, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01, places=2)\n\n    def test_add_item_explicit_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Single\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_same_name_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Duplicate\", 10.0, 1)\n        calc.add_item(\"Duplicate\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_add_item_empty_name_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 10.0, 1)\n\n    def test_add_item_none_name_raises_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises((TypeError, ValueError)):\n            calc.add_item(None, 10.0, 1)\n\n    def test_add_item_negative_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", -5.0, 1)\n\n    def test_add_item_zero_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Free\", 0.0, 1)\n\n    def test_add_item_zero_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, 0)\n\n    def test_add_item_negative_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, -1)\n\n    def test_add_item_non_integer_quantity_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Item\", 10.0, 1.5)\n\n    def test_add_item_non_string_name_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 10.0, 1)\n\n    def test_remove_item_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_from_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertEqual(calc.list_items(), [\"Pen\"])\n\n    def test_remove_item_only_item_makes_order_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Solo\", 50.0, 1)\n        calc.remove_item(\"Solo\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_updates_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertAlmostEqual(calc.get_subtotal(), 5.0, places=2)\n\n    def test_remove_item_nonexistent_raises_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        with self.assertRaises((ValueError, KeyError)):\n            calc.remove_item(\"Nonexistent\")\n\n    def test_remove_item_from_empty_order_raises_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, KeyError)):\n            calc.remove_item(\"Any\")\n\n    def test_remove_item_empty_name_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_none_name_raises_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        with self.assertRaises((TypeError, ValueError)):\n            calc.remove_item(None)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        self.assertAlmostEqual(calc.get_subtotal(), 50.0, places=2)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        calc.add_item(\"Pen\", 5.0, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 65.0, places=2)\n\n    def test_get_subtotal_varying_quantities(self):\n        calc = OrderCalculator()\n        calc.add_item(\"A\", 10.0, 1)\n        calc.add_item(\"B\", 20.0, 2)\n        calc.add_item(\"C\", 5.0, 5)\n        self.assertAlmostEqual(calc.get_subtotal(), 75.0, places=2)\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertAlmostEqual(calc.get_subtotal(), 0.0, places=2)\n\n    def test_get_subtotal_decimal_prices(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 19.99, 1)\n        calc.add_item(\"Item2\", 9.99, 2)\n        self.assertAlmostEqual(calc.get_subtotal(), 39.97, places=2)\n\n    def test_get_subtotal_after_removing_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.remove_item(\"Pen\")\n        self.assertAlmostEqual(calc.get_subtotal(), 25.0, places=2)\n\n    def test_apply_discount_ten_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10.0)\n        self.assertAlmostEqual(result, 90.0, places=2)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 50.0)\n        self.assertAlmostEqual(result, 50.0, places=2)\n\n    def test_apply_discount_zero_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertAlmostEqual(result, 100.0, places=2)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_apply_discount_to_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 50.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_apply_discount_precision(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(33.33, 15.0)\n        self.assertAlmostEqual(result, 28.3305, places=2)\n\n    def test_apply_discount_negative_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10.0)\n\n    def test_apply_discount_greater_than_hundred_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 101.0)\n\n    def test_apply_discount_negative_subtotal_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-50.0, 10.0)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_shipping_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_shipping_custom_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        result = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 23.0, places=2)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(50.0)\n        self.assertAlmostEqual(result, 11.5, places=2)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_tax_zero_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=2)\n\n    def test_calculate_tax_negative_amount_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-50.0)\n\n    def test_calculate_total_items_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 100.0, 1)\n        total = calc.calculate_total(10.0)\n        expected = (90.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_drops_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 110.0, 1)\n        total = calc.calculate_total(20.0)\n        discounted = 88.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_stays_above_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 200.0, 1)\n        total = calc.calculate_total(10.0)\n        discounted = 180.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_zero_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        total = calc.calculate_total(100.0)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_at_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total()\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_exactly_to_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 200.0, 1)\n        total = calc.calculate_total(50.0)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_negative_discount_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-10.0)\n\n    def test_calculate_total_discount_over_hundred_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(101.0)\n\n    def test_total_items_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        calc.add_item(\"Pen\", 5.0, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_after_add_and_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 3)\n        calc.add_item(\"Pen\", 5.0, 2)\n        calc.remove_item(\"Book\")\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_is_empty_returns_true(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_subtotal_is_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertAlmostEqual(calc.get_subtotal(), 0.0, places=2)\n\n    def test_clear_order_total_items_is_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_already_empty_order(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        self.assertEqual(calc.list_items(), [\"Book\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        items = calc.list_items()\n        self.assertIn(\"Book\", items)\n        self.assertIn(\"Pen\", items)\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_returns_strings(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        items = calc.list_items()\n        self.assertIsInstance(items[0], str)\n\n    def test_list_items_preserves_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"First\", 10.0, 1)\n        calc.add_item(\"Second\", 20.0, 1)\n        calc.add_item(\"Third\", 30.0, 1)\n        items = calc.list_items()\n        self.assertEqual(items, [\"First\", \"Second\", \"Third\"])\n\n    def test_is_empty_empty_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_integration_full_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Laptop\", 500.0, 1)\n        calc.add_item(\"Mouse\", 25.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 550.0, places=2)\n        total = calc.calculate_total(10.0)\n        discounted = 495.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_integration_add_remove_calculate(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 30.0, 2)\n        calc.add_item(\"Pen\", 5.0, 4)\n        calc.remove_item(\"Book\")\n        total = calc.calculate_total()\n        expected = (20.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_integration_multiple_subtotal_calls(self):\n        calc = OrderCalculator()\n        calc.add_item(\"A\", 10.0, 1)\n        first_subtotal = calc.get_subtotal()\n        calc.add_item(\"B\", 20.0, 1)\n        second_subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(first_subtotal, 10.0, places=2)\n        self.assertAlmostEqual(second_subtotal, 30.0, places=2)\n\n    def test_integration_consistent_total_calculation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 75.0, 1)\n        total1 = calc.calculate_total(5.0)\n        total2 = calc.calculate_total(5.0)\n        self.assertAlmostEqual(total1, total2, places=2)\n\n    def test_integration_clear_then_add_new_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Old\", 100.0, 1)\n        calc.clear_order()\n        calc.add_item(\"New\", 50.0, 1)\n        self.assertEqual(calc.list_items(), [\"New\"])\n        self.assertAlmostEqual(calc.get_subtotal(), 50.0, places=2)\n\n    def test_integration_tax_applied_correctly(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total()\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.tax_rate, 0.10)\n\n    def test_init_custom_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_init_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=200.0, shipping_cost=20.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n        self.assertEqual(calc.shipping_cost, 20.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_init_zero_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_init_negative_tax_rate_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_shipping_cost_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_init_negative_free_shipping_threshold_raises_value_error(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_add_item_single_item_with_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_add_item_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Pen\", 5.0)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 2)\n        self.assertEqual(len(calc.list_items()), 2)\n\n    def test_add_item_decimal_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 19.99, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 19.99, places=2)\n\n    def test_add_item_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 1.0, 1000)\n        self.assertEqual(calc.total_items(), 1000)\n\n    def test_add_item_minimum_valid_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Cheap\", 0.01, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.01, places=2)\n\n    def test_add_item_explicit_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Single\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_same_name_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Duplicate\", 10.0, 1)\n        calc.add_item(\"Duplicate\", 10.0, 1)\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_add_item_empty_name_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 10.0, 1)\n\n    def test_add_item_none_name_raises_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises((TypeError, ValueError)):\n            calc.add_item(None, 10.0, 1)\n\n    def test_add_item_negative_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", -5.0, 1)\n\n    def test_add_item_zero_price_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Free\", 0.0, 1)\n\n    def test_add_item_zero_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, 0)\n\n    def test_add_item_negative_quantity_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, -1)\n\n    def test_add_item_non_integer_quantity_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Item\", 10.0, 1.5)\n\n    def test_add_item_non_string_name_raises_type_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 10.0, 1)\n\n    def test_remove_item_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_from_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertEqual(calc.list_items(), [\"Pen\"])\n\n    def test_remove_item_only_item_makes_order_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Solo\", 50.0, 1)\n        calc.remove_item(\"Solo\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_updates_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertAlmostEqual(calc.get_subtotal(), 5.0, places=2)\n\n    def test_remove_item_nonexistent_raises_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        with self.assertRaises((ValueError, KeyError)):\n            calc.remove_item(\"Nonexistent\")\n\n    def test_remove_item_from_empty_order_raises_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, KeyError)):\n            calc.remove_item(\"Any\")\n\n    def test_remove_item_empty_name_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_none_name_raises_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        with self.assertRaises((TypeError, ValueError)):\n            calc.remove_item(None)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        self.assertAlmostEqual(calc.get_subtotal(), 50.0, places=2)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        calc.add_item(\"Pen\", 5.0, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 65.0, places=2)\n\n    def test_get_subtotal_varying_quantities(self):\n        calc = OrderCalculator()\n        calc.add_item(\"A\", 10.0, 1)\n        calc.add_item(\"B\", 20.0, 2)\n        calc.add_item(\"C\", 5.0, 5)\n        self.assertAlmostEqual(calc.get_subtotal(), 75.0, places=2)\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertAlmostEqual(calc.get_subtotal(), 0.0, places=2)\n\n    def test_get_subtotal_decimal_prices(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 19.99, 1)\n        calc.add_item(\"Item2\", 9.99, 2)\n        self.assertAlmostEqual(calc.get_subtotal(), 39.97, places=2)\n\n    def test_get_subtotal_after_removing_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.remove_item(\"Pen\")\n        self.assertAlmostEqual(calc.get_subtotal(), 25.0, places=2)\n\n    def test_apply_discount_ten_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10.0)\n        self.assertAlmostEqual(result, 90.0, places=2)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 50.0)\n        self.assertAlmostEqual(result, 50.0, places=2)\n\n    def test_apply_discount_zero_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertAlmostEqual(result, 100.0, places=2)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_apply_discount_to_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 50.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_apply_discount_precision(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(33.33, 15.0)\n        self.assertAlmostEqual(result, 28.3305, places=2)\n\n    def test_apply_discount_negative_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10.0)\n\n    def test_apply_discount_greater_than_hundred_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 101.0)\n\n    def test_apply_discount_negative_subtotal_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-50.0, 10.0)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_shipping_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_shipping_custom_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        result = calc.calculate_shipping(50.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 23.0, places=2)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(50.0)\n        self.assertAlmostEqual(result, 11.5, places=2)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 10.0, places=2)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_tax_zero_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        result = calc.calculate_tax(100.0)\n        self.assertAlmostEqual(result, 0.0, places=2)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=2)\n\n    def test_calculate_tax_negative_amount_raises_value_error(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-50.0)\n\n    def test_calculate_total_items_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 100.0, 1)\n        total = calc.calculate_total(10.0)\n        expected = (90.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_drops_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 110.0, 1)\n        total = calc.calculate_total(20.0)\n        discounted = 88.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_stays_above_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 200.0, 1)\n        total = calc.calculate_total(10.0)\n        discounted = 180.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_zero_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        total = calc.calculate_total(0.0)\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        total = calc.calculate_total(100.0)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_at_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total()\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_exactly_to_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 200.0, 1)\n        total = calc.calculate_total(50.0)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_negative_discount_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-10.0)\n\n    def test_calculate_total_discount_over_hundred_raises_value_error(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(101.0)\n\n    def test_total_items_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 2)\n        calc.add_item(\"Pen\", 5.0, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_after_add_and_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 3)\n        calc.add_item(\"Pen\", 5.0, 2)\n        calc.remove_item(\"Book\")\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_is_empty_returns_true(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_subtotal_is_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertAlmostEqual(calc.get_subtotal(), 0.0, places=2)\n\n    def test_clear_order_total_items_is_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_already_empty_order(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        self.assertEqual(calc.list_items(), [\"Book\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.add_item(\"Pen\", 5.0, 1)\n        items = calc.list_items()\n        self.assertIn(\"Book\", items)\n        self.assertIn(\"Pen\", items)\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_returns_strings(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        items = calc.list_items()\n        self.assertIsInstance(items[0], str)\n\n    def test_list_items_preserves_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"First\", 10.0, 1)\n        calc.add_item(\"Second\", 20.0, 1)\n        calc.add_item(\"Third\", 30.0, 1)\n        items = calc.list_items()\n        self.assertEqual(items, [\"First\", \"Second\", \"Third\"])\n\n    def test_is_empty_empty_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.remove_item(\"Book\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 25.0, 1)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_integration_full_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Laptop\", 500.0, 1)\n        calc.add_item(\"Mouse\", 25.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 550.0, places=2)\n        total = calc.calculate_total(10.0)\n        discounted = 495.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_integration_add_remove_calculate(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Book\", 30.0, 2)\n        calc.add_item(\"Pen\", 5.0, 4)\n        calc.remove_item(\"Book\")\n        total = calc.calculate_total()\n        expected = (20.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_integration_multiple_subtotal_calls(self):\n        calc = OrderCalculator()\n        calc.add_item(\"A\", 10.0, 1)\n        first_subtotal = calc.get_subtotal()\n        calc.add_item(\"B\", 20.0, 1)\n        second_subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(first_subtotal, 10.0, places=2)\n        self.assertAlmostEqual(second_subtotal, 30.0, places=2)\n\n    def test_integration_consistent_total_calculation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 75.0, 1)\n        total1 = calc.calculate_total(5.0)\n        total2 = calc.calculate_total(5.0)\n        self.assertAlmostEqual(total1, total2, places=2)\n\n    def test_integration_clear_then_add_new_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Old\", 100.0, 1)\n        calc.clear_order()\n        calc.add_item(\"New\", 50.0, 1)\n        self.assertEqual(calc.list_items(), [\"New\"])\n        self.assertAlmostEqual(calc.get_subtotal(), 50.0, places=2)\n\n    def test_integration_tax_applied_correctly(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total()\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 176.93338751792908,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface"
  }
}