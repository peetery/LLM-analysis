{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface",
  "timestamp": "2025-12-30T09:02:03.931637",
  "response_time": 164.87413716316223,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface\\claude-code-opus-4.5\\run_007\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet. Do not write test scenarios yet. Just analyze the class and prepare for the next step.\n\nBelow is the class interface (without implementation):\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict)\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n\ndef remove_item(self, name: str):\n\ndef get_subtotal(self) -> float:\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n\ndef calculate_tax(self, amount: float) -> float:\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n\ndef total_items(self) -> int:\n\ndef clear_order(self):\n\ndef list_items(self) -> List[str]:\n\ndef is_empty(self) -> bool:\n\n```\n\n",
        "response": "I'll analyze the `OrderCalculator` class to prepare for unit test generation.\n\n## Class Analysis\n\n### Class Purpose\n`OrderCalculator` is an e-commerce order management class that handles items, calculates totals with tax, discounts, and shipping costs.\n\n### Constructor Parameters\n- `tax_rate` (default: 0.23) - 23% tax rate\n- `free_shipping_threshold` (default: 100.0) - orders above this get free shipping\n- `shipping_cost` (default: 10.0) - flat shipping fee when below threshold\n\n### Public Methods to Test\n\n1. **`add_item(name, price, quantity=1)`** - Adds item to order\n   - Edge cases: empty name, zero/negative price, zero/negative quantity, duplicate items, float quantities\n\n2. **`remove_item(name)`** - Removes item by name\n   - Edge cases: non-existent item, empty order, case sensitivity\n\n3. **`get_subtotal()`** - Returns sum of (price Ă— quantity)\n   - Edge cases: empty order, single item, multiple items\n\n4. **`apply_discount(subtotal, discount)`** - Applies percentage or fixed discount\n   - Edge cases: zero discount, 100% discount, discount > subtotal, negative discount, negative subtotal\n\n5. **`calculate_shipping(discounted_subtotal)`** - Returns shipping cost\n   - Edge cases: exactly at threshold, just below/above threshold, negative values\n\n6. **`calculate_tax(amount)`** - Calculates tax on amount\n   - Edge cases: zero amount, negative amount, custom tax rates\n\n7. **`calculate_total(discount=0.0)`** - Full calculation with discount, shipping, tax\n   - Edge cases: empty order, with/without discount, free shipping qualification\n\n8. **`total_items()`** - Returns total quantity count\n   - Edge cases: empty order, multiple items with various quantities\n\n9. **`clear_order()`** - Empties the order\n   - Edge cases: already empty order, order with items\n\n10. **`list_items()`** - Returns list of item names\n    - Edge cases: empty order, multiple items, order of items\n\n11. **`is_empty()`** - Boolean check for empty order\n    - Edge cases: after construction, after add, after remove, after clear\n\n### Key Test Categories\n\n1. **Initialization tests** - Default values, custom values, invalid constructor args\n2. **Item management** - Add/remove/clear operations\n3. **Calculation accuracy** - Subtotal, tax, shipping, total with various inputs\n4. **Boundary conditions** - Threshold values, zero values\n5. **Error handling** - Invalid inputs, exceptions\n6. **State transitions** - Emptyâ†’filledâ†’cleared sequences\n\n### Expected Exceptions/Validation Points\n- Invalid item name (empty string)\n- Invalid price (zero, negative)\n- Invalid quantity (zero, negative)\n- Removing non-existent item\n- Invalid discount values\n- Invalid tax rate in constructor\n\nI'm ready to generate the test scenarios in the next step.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### Constructor (`__init__`)\n\n1. **Default initialization (normal)** - Verify default tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0\n2. **Custom tax rate (normal)** - Initialize with custom tax_rate and verify it's applied\n3. **Custom shipping threshold (normal)** - Initialize with custom free_shipping_threshold\n4. **Custom shipping cost (normal)** - Initialize with custom shipping_cost\n5. **Zero tax rate (edge)** - Initialize with tax_rate=0\n6. **Negative tax rate (invalid/exception)** - Should raise exception or handle gracefully\n7. **Zero shipping threshold (edge)** - All orders get free shipping\n8. **Negative shipping threshold (invalid/exception)** - Invalid configuration\n9. **Negative shipping cost (invalid/exception)** - Invalid configuration\n10. **Empty items list on init (normal)** - Verify order starts empty\n\n### `add_item`\n\n11. **Add single item (normal)** - Add item with name, price, quantity\n12. **Add item with default quantity (normal)** - Omit quantity, verify default=1\n13. **Add multiple different items (normal)** - Add several distinct items\n14. **Add duplicate item name (edge)** - Add same item twice, check behavior (update or duplicate)\n15. **Add item with quantity > 1 (normal)** - Verify quantity is stored correctly\n16. **Empty item name (invalid/exception)** - Should raise ValueError\n17. **Whitespace-only name (invalid/exception)** - Should raise ValueError\n18. **Zero price (invalid/exception)** - Should raise ValueError\n19. **Negative price (invalid/exception)** - Should raise ValueError\n20. **Zero quantity (invalid/exception)** - Should raise ValueError\n21. **Negative quantity (invalid/exception)** - Should raise ValueError\n22. **Very large price (edge)** - Handle large float values\n23. **Very large quantity (edge)** - Handle large integer values\n24. **Float quantity (invalid/exception)** - Quantity should be integer\n25. **None as name (invalid/exception)** - Type validation\n26. **None as price (invalid/exception)** - Type validation\n\n### `remove_item`\n\n27. **Remove existing item (normal)** - Remove item and verify it's gone\n28. **Remove non-existent item (exception)** - Should raise KeyError or ValueError\n29. **Remove from empty order (exception)** - Should raise exception\n30. **Remove item case sensitivity (edge)** - Check if \"Apple\" vs \"apple\" matters\n31. **Remove then re-add (normal)** - Verify item can be added again after removal\n32. **Remove one of multiple items (normal)** - Other items remain unchanged\n\n### `get_subtotal`\n\n33. **Subtotal empty order (edge)** - Should return 0.0\n34. **Subtotal single item quantity=1 (normal)** - price Ă— 1\n35. **Subtotal single item quantity>1 (normal)** - price Ă— quantity\n36. **Subtotal multiple items (normal)** - Sum of all (price Ă— quantity)\n37. **Subtotal after item removal (normal)** - Recalculates correctly\n38. **Subtotal with float prices (normal)** - Handle decimal precision\n\n### `apply_discount`\n\n39. **Zero discount (edge)** - Returns original subtotal\n40. **Percentage discount (normal)** - e.g., 10% off\n41. **Fixed amount discount (normal)** - Subtract fixed value\n42. **100% discount (edge)** - Returns 0\n43. **Discount greater than subtotal (edge)** - Should not go negative (return 0 or raise)\n44. **Negative discount (invalid/exception)** - Should raise ValueError\n45. **Discount on zero subtotal (edge)** - Apply discount to 0\n46. **Negative subtotal (invalid/exception)** - Invalid input\n47. **Very small discount (edge)** - e.g., 0.001\n48. **Discount > 100% (invalid/exception)** - If percentage-based, invalid\n\n### `calculate_shipping`\n\n49. **Below threshold (normal)** - Returns shipping_cost\n50. **Exactly at threshold (edge)** - Verify boundary behavior (free or not)\n51. **Above threshold (normal)** - Returns 0 (free shipping)\n52. **Zero subtotal (edge)** - Check shipping for empty/zero order\n53. **Negative subtotal (invalid/exception)** - Invalid input\n54. **Just below threshold (edge)** - e.g., 99.99 when threshold=100\n55. **Just above threshold (edge)** - e.g., 100.01 when threshold=100\n56. **Custom threshold at initialization (normal)** - Verify custom threshold works\n\n### `calculate_tax`\n\n57. **Tax on positive amount (normal)** - amount Ă— tax_rate\n58. **Tax on zero amount (edge)** - Returns 0\n59. **Tax on negative amount (invalid/exception)** - Should raise or handle\n60. **Tax with default rate (normal)** - Verify 23% calculation\n61. **Tax with custom rate (normal)** - Verify custom rate from constructor\n62. **Tax with zero rate (edge)** - Returns 0\n63. **Tax precision (edge)** - Handle floating point rounding\n\n### `calculate_total`\n\n64. **Total empty order no discount (edge)** - Should be 0 or just shipping\n65. **Total single item no discount (normal)** - subtotal + shipping + tax\n66. **Total multiple items no discount (normal)** - Full calculation\n67. **Total with discount (normal)** - Discount applied before shipping/tax\n68. **Total qualifies for free shipping (normal)** - No shipping added\n69. **Total below free shipping threshold (normal)** - Shipping added\n70. **Total with 100% discount (edge)** - Verify calculation\n71. **Total order exactly at threshold (edge)** - Boundary check\n72. **Total after add and remove items (normal)** - State changes reflected\n73. **Negative discount (invalid/exception)** - Should raise ValueError\n74. **Total calculation order (normal)** - Verify: subtotal â†’ discount â†’ shipping â†’ tax\n\n### `total_items`\n\n75. **Total items empty order (edge)** - Returns 0\n76. **Total items single item qty=1 (normal)** - Returns 1\n77. **Total items single item qty>1 (normal)** - Returns quantity\n78. **Total items multiple items (normal)** - Sum of all quantities\n79. **Total items after removal (normal)** - Decreases correctly\n80. **Total items after clear (edge)** - Returns 0\n\n### `clear_order`\n\n81. **Clear order with items (normal)** - All items removed\n82. **Clear already empty order (edge)** - No error, remains empty\n83. **Clear then add items (normal)** - Can add items after clearing\n84. **Clear resets subtotal (normal)** - get_subtotal() returns 0\n\n### `list_items`\n\n85. **List items empty order (edge)** - Returns empty list\n86. **List items single item (normal)** - Returns list with one name\n87. **List items multiple items (normal)** - Returns all names\n88. **List items after removal (normal)** - Removed item not in list\n89. **List items order preservation (edge)** - Check if order is maintained\n90. **List items returns copy (edge)** - Modifying returned list doesn't affect order\n\n### `is_empty`\n\n91. **Is empty new order (normal)** - Returns True\n92. **Is empty after add (normal)** - Returns False\n93. **Is empty after add then remove all (normal)** - Returns True\n94. **Is empty after clear (normal)** - Returns True\n95. **Is empty with multiple items (normal)** - Returns False\n\n### Integration/State Scenarios\n\n96. **Full workflow (integration)** - Add items â†’ apply discount â†’ calculate total â†’ clear\n97. **Multiple operations sequence (integration)** - Add, remove, add, calculate\n98. **Recalculation after state change (integration)** - Total changes when items change\n99. **Concurrent-like operations (edge)** - Multiple adds before any calculation\n100. **Decimal precision throughout (edge)** - Verify no floating point errors accumulate",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_values(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.tax_rate, 0.10)\n\n    def test_init_custom_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.tax_rate, 0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.free_shipping_threshold, 0)\n\n    def test_init_negative_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5)\n\n    def test_init_empty_items_list(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_item_single(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_add_item_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_multiple_different(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.add_item(\"Orange\", 2.00, 1)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_item_duplicate_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50, 1)\n\n    def test_add_item_whitespace_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 1.50, 1)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 0, 1)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50, 1)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Luxury\", 1000000.0, 1)\n        self.assertEqual(calc.get_subtotal(), 1000000.0)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Bulk\", 1.0, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n\n    def test_remove_item_non_existent(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_item_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_then_readd(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Apple\", 2.00, 1)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_remove_one_of_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_get_subtotal_single_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.get_subtotal(), 4.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        self.assertEqual(calc.get_subtotal(), 6.0)\n\n    def test_get_subtotal_after_item_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 3.0)\n\n    def test_get_subtotal_with_float_prices(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.99, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 5.97, places=2)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_percentage(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_100_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_greater_than_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(50.0, 100)\n        self.assertGreaterEqual(result, 0.0)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_on_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 10)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 10)\n\n    def test_apply_discount_very_small(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.001)\n        self.assertAlmostEqual(result, 99.999, places=3)\n\n    def test_apply_discount_greater_than_100_percent(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_custom_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        result = calc.calculate_shipping(60.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_tax_zero_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=2)\n\n    def test_calculate_total_empty_order_no_discount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 12.30, places=2)\n\n    def test_calculate_total_single_item_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 73.80, places=2)\n\n    def test_calculate_total_multiple_items_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0, 1)\n        calc.add_item(\"Banana\", 20.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 73.80, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        result = calc.calculate_total(discount=10)\n        self.assertAlmostEqual(result, 110.70, places=2)\n\n    def test_calculate_total_qualifies_for_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 123.0, places=2)\n\n    def test_calculate_total_below_free_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 73.80, places=2)\n\n    def test_calculate_total_with_100_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        result = calc.calculate_total(discount=100)\n        self.assertAlmostEqual(result, 12.30, places=2)\n\n    def test_calculate_total_order_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 123.0, places=2)\n\n    def test_calculate_total_after_add_and_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        calc.add_item(\"Banana\", 60.0, 1)\n        calc.remove_item(\"Apple\")\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 86.10, places=2)\n\n    def test_calculate_total_negative_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(discount=-10)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_total_items_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_already_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_then_add_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_clear_order_resets_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.list_items(), [\"Banana\"])\n\n    def test_list_items_returns_copy(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        items = calc.list_items()\n        items.append(\"Banana\")\n        self.assertNotIn(\"Banana\", calc.list_items())\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_add(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_add_then_remove_all(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_with_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertFalse(calc.is_empty())\n\n    def test_full_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 2)\n        calc.add_item(\"Banana\", 25.0, 1)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 125.0)\n        total = calc.calculate_total(discount=10)\n        self.assertAlmostEqual(total, 138.375, places=2)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_multiple_operations_sequence(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0, 1)\n        calc.add_item(\"Banana\", 20.0, 2)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Orange\", 15.0, 3)\n        total = calc.calculate_total()\n        self.assertGreater(total, 0)\n\n    def test_recalculation_after_state_change(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total1 = calc.calculate_total()\n        calc.add_item(\"Banana\", 30.0, 1)\n        total2 = calc.calculate_total()\n        self.assertGreater(total2, total1)\n\n    def test_concurrent_like_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 10.0, 1)\n        calc.add_item(\"Banana\", 20.0, 1)\n        calc.add_item(\"Orange\", 30.0, 1)\n        calc.add_item(\"Grape\", 40.0, 1)\n        self.assertEqual(calc.get_subtotal(), 100.0)\n\n    def test_decimal_precision_throughout(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.01, 1)\n        calc.add_item(\"Item2\", 0.02, 1)\n        calc.add_item(\"Item3\", 0.03, 1)\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 0.06, places=2)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_values(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.tax_rate, 0.10)\n\n    def test_init_custom_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.tax_rate, 0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.free_shipping_threshold, 0)\n\n    def test_init_negative_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5)\n\n    def test_init_empty_items_list(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_item_single(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_add_item_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_multiple_different(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.add_item(\"Orange\", 2.00, 1)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_item_duplicate_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50, 1)\n\n    def test_add_item_whitespace_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 1.50, 1)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 0, 1)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50, 1)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Luxury\", 1000000.0, 1)\n        self.assertEqual(calc.get_subtotal(), 1000000.0)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Bulk\", 1.0, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n\n    def test_remove_item_non_existent(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_item_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_then_readd(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Apple\", 2.00, 1)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_remove_one_of_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_get_subtotal_single_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.get_subtotal(), 4.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        self.assertEqual(calc.get_subtotal(), 6.0)\n\n    def test_get_subtotal_after_item_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 3.0)\n\n    def test_get_subtotal_with_float_prices(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.99, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 5.97, places=2)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_percentage(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_100_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_greater_than_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(50.0, 100)\n        self.assertGreaterEqual(result, 0.0)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_on_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 10)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 10)\n\n    def test_apply_discount_very_small(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.001)\n        self.assertAlmostEqual(result, 99.999, places=3)\n\n    def test_apply_discount_greater_than_100_percent(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_custom_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        result = calc.calculate_shipping(60.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_tax_zero_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=2)\n\n    def test_calculate_total_empty_order_no_discount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 12.30, places=2)\n\n    def test_calculate_total_single_item_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 73.80, places=2)\n\n    def test_calculate_total_multiple_items_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0, 1)\n        calc.add_item(\"Banana\", 20.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 73.80, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        result = calc.calculate_total(discount=10)\n        self.assertAlmostEqual(result, 110.70, places=2)\n\n    def test_calculate_total_qualifies_for_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 123.0, places=2)\n\n    def test_calculate_total_below_free_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 73.80, places=2)\n\n    def test_calculate_total_with_100_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        result = calc.calculate_total(discount=100)\n        self.assertAlmostEqual(result, 12.30, places=2)\n\n    def test_calculate_total_order_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0, 1)\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 123.0, places=2)\n\n    def test_calculate_total_after_add_and_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        calc.add_item(\"Banana\", 60.0, 1)\n        calc.remove_item(\"Apple\")\n        result = calc.calculate_total()\n        self.assertAlmostEqual(result, 86.10, places=2)\n\n    def test_calculate_total_negative_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(discount=-10)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_total_items_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_already_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_then_add_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_clear_order_resets_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.list_items(), [\"Banana\"])\n\n    def test_list_items_returns_copy(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        items = calc.list_items()\n        items.append(\"Banana\")\n        self.assertNotIn(\"Banana\", calc.list_items())\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_add(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_add_then_remove_all(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_with_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertFalse(calc.is_empty())\n\n    def test_full_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 2)\n        calc.add_item(\"Banana\", 25.0, 1)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 125.0)\n        total = calc.calculate_total(discount=10)\n        self.assertAlmostEqual(total, 138.375, places=2)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_multiple_operations_sequence(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0, 1)\n        calc.add_item(\"Banana\", 20.0, 2)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Orange\", 15.0, 3)\n        total = calc.calculate_total()\n        self.assertGreater(total, 0)\n\n    def test_recalculation_after_state_change(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0, 1)\n        total1 = calc.calculate_total()\n        calc.add_item(\"Banana\", 30.0, 1)\n        total2 = calc.calculate_total()\n        self.assertGreater(total2, total1)\n\n    def test_concurrent_like_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 10.0, 1)\n        calc.add_item(\"Banana\", 20.0, 1)\n        calc.add_item(\"Orange\", 30.0, 1)\n        calc.add_item(\"Grape\", 40.0, 1)\n        self.assertEqual(calc.get_subtotal(), 100.0)\n\n    def test_decimal_precision_throughout(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.01, 1)\n        calc.add_item(\"Item2\", 0.02, 1)\n        calc.add_item(\"Item3\", 0.03, 1)\n        subtotal = calc.get_subtotal()\n        self.assertAlmostEqual(subtotal, 0.06, places=2)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 164.87413716316223,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface"
  }
}