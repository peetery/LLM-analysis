{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface",
  "timestamp": "2025-12-30T19:11:02.661817",
  "response_time": 169.15789699554443,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface\\claude-code-opus-4.5\\run_013\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet. Do not write test scenarios yet. Just analyze the class and prepare for the next step.\n\nBelow is the class interface (without implementation):\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict)\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n\ndef remove_item(self, name: str):\n\ndef get_subtotal(self) -> float:\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n\ndef calculate_tax(self, amount: float) -> float:\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n\ndef total_items(self) -> int:\n\ndef clear_order(self):\n\ndef list_items(self) -> List[str]:\n\ndef is_empty(self) -> bool:\n\n```\n\n",
        "response": "I'll analyze the `OrderCalculator` class to understand its structure and prepare for generating comprehensive unit tests.\n\n## Class Analysis\n\n### Class Overview\n`OrderCalculator` is an order management class that handles items, calculates pricing with tax, discounts, and shipping logic.\n\n### Constructor Parameters\n- `tax_rate` (default: 0.23) - 23% tax rate\n- `free_shipping_threshold` (default: 100.0) - Orders above this get free shipping\n- `shipping_cost` (default: 10.0) - Flat shipping cost when below threshold\n\n### Public Methods to Test\n\n1. **`add_item(name, price, quantity=1)`** - Adds item to order\n   - Edge cases: empty name, negative/zero price, negative/zero quantity, duplicate names, float quantity\n\n2. **`remove_item(name)`** - Removes item by name\n   - Edge cases: non-existent item, empty string, case sensitivity\n\n3. **`get_subtotal()`** - Returns sum of (price Ă— quantity) for all items\n   - Edge cases: empty order, single item, multiple items\n\n4. **`apply_discount(subtotal, discount)`** - Applies discount to subtotal\n   - Edge cases: zero discount, 100% discount, negative discount, discount > 100%, negative subtotal\n\n5. **`calculate_shipping(discounted_subtotal)`** - Determines shipping cost\n   - Edge cases: exactly at threshold, just below/above threshold, zero subtotal, negative subtotal\n\n6. **`calculate_tax(amount)`** - Calculates tax on amount\n   - Edge cases: zero amount, negative amount, large amounts\n\n7. **`calculate_total(discount=0.0)`** - Full calculation: subtotal â†’ discount â†’ shipping â†’ tax\n   - Edge cases: empty order, with/without discount, free shipping scenarios\n\n8. **`total_items()`** - Returns total quantity of all items\n   - Edge cases: empty order, multiple items with various quantities\n\n9. **`clear_order()`** - Removes all items\n   - Edge cases: clearing empty order, clearing populated order\n\n10. **`list_items()`** - Returns list of item names\n    - Edge cases: empty order, multiple items, order of items\n\n11. **`is_empty()`** - Checks if order has no items\n    - Edge cases: after init, after adding items, after clearing\n\n### Key Testing Considerations\n\n- **Input validation**: How does class handle invalid inputs (negative prices, zero quantities)?\n- **Boundary conditions**: Threshold exactly at 100.0, discount at 0% and 100%\n- **State management**: Order state after add/remove/clear operations\n- **Calculation accuracy**: Floating-point precision in price calculations\n- **Type handling**: TypedDict `Item` structure compliance\n- **Constructor variations**: Custom tax rates, thresholds, shipping costs\n\n### Expected Exceptions/Errors\n- Removing non-existent items (likely `ValueError` or `KeyError`)\n- Invalid parameter types\n- Negative prices/quantities (likely `ValueError`)",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### Constructor (`__init__`)\n\n1. **Default initialization** (normal use) - Verify default values: tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0\n2. **Custom tax rate** (normal use) - Initialize with custom tax rate and verify it's applied\n3. **Custom shipping threshold** (normal use) - Initialize with custom free_shipping_threshold\n4. **Custom shipping cost** (normal use) - Initialize with custom shipping_cost\n5. **All custom parameters** (normal use) - Initialize with all custom values\n6. **Zero tax rate** (edge case) - Initialize with tax_rate=0\n7. **Zero shipping threshold** (edge case) - All orders get free shipping\n8. **Zero shipping cost** (edge case) - Shipping is always free\n9. **Negative tax rate** (invalid input) - Should raise exception or handle gracefully\n10. **Negative shipping threshold** (invalid input) - Invalid threshold value\n11. **Negative shipping cost** (invalid input) - Invalid shipping cost\n\n### `add_item(name, price, quantity)`\n\n12. **Add single item with default quantity** (normal use) - Add one item, quantity=1\n13. **Add item with explicit quantity** (normal use) - Add item with quantity > 1\n14. **Add multiple different items** (normal use) - Add several distinct items\n15. **Add item with same name twice** (edge case) - Duplicate name handling (update or error?)\n16. **Add item with price zero** (edge case) - Free item\n17. **Add item with large quantity** (edge case) - Very large quantity value\n18. **Add item with float price** (normal use) - Price with decimal places\n19. **Empty name string** (invalid input) - Should raise exception\n20. **Negative price** (invalid input) - Should raise exception\n21. **Zero quantity** (invalid input) - Should raise exception or be rejected\n22. **Negative quantity** (invalid input) - Should raise exception\n23. **Non-integer quantity** (invalid input) - Float quantity like 1.5\n24. **Whitespace-only name** (invalid input) - Name with only spaces\n25. **Very long item name** (edge case) - Extremely long string for name\n\n### `remove_item(name)`\n\n26. **Remove existing item** (normal use) - Remove item that exists\n27. **Remove from multiple items** (normal use) - Remove one of several items\n28. **Remove non-existent item** (exception) - Should raise KeyError or ValueError\n29. **Remove from empty order** (exception) - No items to remove\n30. **Remove with empty string** (invalid input) - Empty name parameter\n31. **Case sensitivity check** (edge case) - \"Apple\" vs \"apple\"\n32. **Remove item twice** (exception) - Remove same item consecutively\n\n### `get_subtotal()`\n\n33. **Subtotal of empty order** (edge case) - Should return 0.0\n34. **Subtotal with single item** (normal use) - price Ă— quantity\n35. **Subtotal with multiple items** (normal use) - Sum of all (price Ă— quantity)\n36. **Subtotal with quantity > 1** (normal use) - Verify multiplication\n37. **Subtotal precision** (edge case) - Floating-point accuracy with many decimals\n\n### `apply_discount(subtotal, discount)`\n\n38. **Zero discount** (edge case) - Returns original subtotal\n39. **Small discount (10%)** (normal use) - Standard percentage discount\n40. **50% discount** (normal use) - Half-price calculation\n41. **100% discount** (edge case) - Everything free\n42. **Discount over 100%** (invalid input) - Should raise exception or cap\n43. **Negative discount** (invalid input) - Should raise exception\n44. **Discount on zero subtotal** (edge case) - 0 with any discount\n45. **Negative subtotal** (invalid input) - Should handle or reject\n46. **Very small discount (0.01%)** (edge case) - Precision test\n47. **Discount precision** (edge case) - Floating-point rounding\n\n### `calculate_shipping(discounted_subtotal)`\n\n48. **Subtotal below threshold** (normal use) - Should charge shipping_cost\n49. **Subtotal above threshold** (normal use) - Free shipping (0.0)\n50. **Subtotal exactly at threshold** (boundary) - Exactly 100.0, should be free\n51. **Subtotal just below threshold** (boundary) - 99.99, should charge shipping\n52. **Subtotal just above threshold** (boundary) - 100.01, should be free\n53. **Zero subtotal** (edge case) - Shipping on empty/free order\n54. **Negative subtotal** (invalid input) - Should handle or reject\n55. **Very large subtotal** (edge case) - Large order value\n\n### `calculate_tax(amount)`\n\n56. **Tax on positive amount** (normal use) - Standard tax calculation\n57. **Tax on zero** (edge case) - Should return 0.0\n58. **Tax on small amount** (edge case) - Precision test\n59. **Tax on large amount** (edge case) - Large value calculation\n60. **Tax on negative amount** (invalid input) - Should handle or reject\n61. **Tax precision** (edge case) - Floating-point rounding accuracy\n\n### `calculate_total(discount)`\n\n62. **Total with no discount, below threshold** (normal use) - Subtotal + shipping + tax\n63. **Total with no discount, above threshold** (normal use) - Subtotal + tax (free shipping)\n64. **Total with discount, below threshold** (normal use) - Full calculation chain\n65. **Total with discount, above threshold** (normal use) - Discount + free shipping\n66. **Total with 100% discount** (edge case) - Should handle zero after discount\n67. **Total on empty order** (edge case) - Should return 0.0 or shipping only\n68. **Total with discount exactly at threshold** (boundary) - Threshold boundary after discount\n69. **Discount pushes below threshold** (edge case) - Was free shipping, now charged\n70. **Default discount parameter** (normal use) - Verify default discount=0.0\n71. **Negative discount in total** (invalid input) - Should raise exception\n\n### `total_items()`\n\n72. **Total items in empty order** (edge case) - Should return 0\n73. **Total items with one item, quantity 1** (normal use) - Returns 1\n74. **Total items with one item, quantity > 1** (normal use) - Returns quantity\n75. **Total items with multiple items** (normal use) - Sum of all quantities\n76. **Total items after removal** (normal use) - Correct count after remove\n\n### `clear_order()`\n\n77. **Clear populated order** (normal use) - Order becomes empty\n78. **Clear empty order** (edge case) - Should not raise exception\n79. **Clear then verify state** (normal use) - Subtotal=0, total_items=0, is_empty=True\n\n### `list_items()`\n\n80. **List items in empty order** (edge case) - Returns empty list\n81. **List items with one item** (normal use) - Returns list with one name\n82. **List items with multiple items** (normal use) - Returns all names\n83. **List items preserves order** (edge case) - Order of addition maintained\n84. **List items after removal** (normal use) - Removed item not in list\n\n### `is_empty()`\n\n85. **Is empty on new order** (normal use) - Returns True after init\n86. **Is empty after adding item** (normal use) - Returns False\n87. **Is empty after removing all items** (normal use) - Returns True\n88. **Is empty after clear** (normal use) - Returns True\n\n### Integration/Workflow Scenarios\n\n89. **Full order workflow** (integration) - Add items â†’ get subtotal â†’ apply discount â†’ calculate total â†’ clear\n90. **Add and remove same item** (integration) - Add then remove, verify empty\n91. **Multiple add/remove operations** (integration) - Complex state changes\n92. **Recalculate after modifications** (integration) - Total changes correctly after add/remove\n93. **Order state consistency** (integration) - All getters return consistent values",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_values(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.tax_rate, 0.10)\n\n    def test_init_custom_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=200.0)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_init_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.tax_rate, 0)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.free_shipping_threshold, 0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0)\n        self.assertEqual(calc.shipping_cost, 0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_add_item_single_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_add_item_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.add_item(\"Orange\", 2.00, 1)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_item_duplicate_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_price_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Free Sample\", 0.0, 1)\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_add_item_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 0.01, 10000)\n        self.assertEqual(calc.total_items(), 10000)\n\n    def test_add_item_float_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 19.99, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 19.99, places=2)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 10.0)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", -5.0)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, -1)\n\n    def test_add_item_non_integer_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Item\", 10.0, 1.5)\n\n    def test_add_item_whitespace_only_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 10.0)\n\n    def test_add_item_very_long_name(self):\n        calc = OrderCalculator()\n        long_name = \"A\" * 1000\n        calc.add_item(long_name, 10.0)\n        self.assertIn(long_name, calc.list_items())\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_from_multiple(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_remove_item_non_existent(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_item_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_empty_string(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_case_sensitivity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"apple\")\n\n    def test_remove_item_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.50, 1)\n        self.assertEqual(calc.get_subtotal(), 2.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 2)\n        calc.add_item(\"Banana\", 1.00, 3)\n        self.assertEqual(calc.get_subtotal(), 7.00)\n\n    def test_get_subtotal_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 4)\n        self.assertEqual(calc.get_subtotal(), 6.00)\n\n    def test_get_subtotal_precision(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.1, 3)\n        calc.add_item(\"Item2\", 0.2, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.9, places=10)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_ten_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 50)\n        self.assertEqual(result, 50.0)\n\n    def test_apply_discount_one_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_over_one_hundred_percent(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 50)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 10)\n\n    def test_apply_discount_very_small(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.01)\n        self.assertAlmostEqual(result, 99.99, places=2)\n\n    def test_apply_discount_precision(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(33.33, 33.33)\n        self.assertAlmostEqual(result, 22.22, places=2)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_very_large_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(1000000.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_zero(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_small_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(1.0)\n        self.assertAlmostEqual(result, 0.23, places=2)\n\n    def test_calculate_tax_large_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(10000.0)\n        self.assertEqual(result, 2300.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=4)\n\n    def test_calculate_total_no_discount_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_no_discount_above_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0, 1)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 80.0, 1)\n        total = calc.calculate_total(discount=10)\n        discounted = 72.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount_above_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 200.0, 1)\n        total = calc.calculate_total(discount=20)\n        discounted = 160.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_one_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(discount=100)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_at_threshold_boundary(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(discount=0)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_pushes_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 120.0, 1)\n        total = calc.calculate_total(discount=20)\n        discounted = 96.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_default_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_negative_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(discount=-10)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_one_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_one_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.add_item(\"Orange\", 2.00, 1)\n        self.assertEqual(calc.total_items(), 6)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_clear_order_populated(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_verify_state(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n        self.assertEqual(calc.total_items(), 0)\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_one_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        items = calc.list_items()\n        self.assertEqual(len(items), 3)\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertIn(\"Orange\", items)\n\n    def test_list_items_preserves_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        items = calc.list_items()\n        self.assertEqual(items, [\"Apple\", \"Banana\", \"Orange\"])\n\n    def test_list_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.list_items(), [\"Banana\"])\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_full_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        calc.add_item(\"Banana\", 1.50, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 9.00)\n        discounted = calc.apply_discount(subtotal, 10)\n        self.assertEqual(discounted, 8.10)\n        total = calc.calculate_total(discount=10)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_and_remove_same_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.list_items(), [])\n\n    def test_multiple_add_remove_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Orange\", 2.00, 1)\n        calc.add_item(\"Banana\", 0.75, 2)\n        self.assertEqual(len(calc.list_items()), 2)\n        self.assertIn(\"Banana\", calc.list_items())\n        self.assertIn(\"Orange\", calc.list_items())\n\n    def test_recalculate_after_modifications(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 10.00, 2)\n        initial_total = calc.calculate_total()\n        calc.add_item(\"Banana\", 5.00, 1)\n        new_total = calc.calculate_total()\n        self.assertGreater(new_total, initial_total)\n\n    def test_order_state_consistency(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        calc.add_item(\"Banana\", 1.50, 2)\n        self.assertFalse(calc.is_empty())\n        self.assertEqual(calc.total_items(), 5)\n        self.assertEqual(len(calc.list_items()), 2)\n        self.assertEqual(calc.get_subtotal(), 9.00)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_values(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.tax_rate, 0.10)\n\n    def test_init_custom_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=200.0)\n        self.assertEqual(calc.free_shipping_threshold, 200.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.shipping_cost, 15.0)\n\n    def test_init_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.15, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.15)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.tax_rate, 0)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.free_shipping_threshold, 0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0)\n        self.assertEqual(calc.shipping_cost, 0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_add_item_single_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_add_item_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.add_item(\"Orange\", 2.00, 1)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_item_duplicate_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_price_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Free Sample\", 0.0, 1)\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_add_item_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 0.01, 10000)\n        self.assertEqual(calc.total_items(), 10000)\n\n    def test_add_item_float_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 19.99, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 19.99, places=2)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 10.0)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", -5.0)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Item\", 10.0, -1)\n\n    def test_add_item_non_integer_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Item\", 10.0, 1.5)\n\n    def test_add_item_whitespace_only_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 10.0)\n\n    def test_add_item_very_long_name(self):\n        calc = OrderCalculator()\n        long_name = \"A\" * 1000\n        calc.add_item(long_name, 10.0)\n        self.assertIn(long_name, calc.list_items())\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_from_multiple(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_remove_item_non_existent(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_item_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_empty_string(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_case_sensitivity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"apple\")\n\n    def test_remove_item_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.50, 1)\n        self.assertEqual(calc.get_subtotal(), 2.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 2)\n        calc.add_item(\"Banana\", 1.00, 3)\n        self.assertEqual(calc.get_subtotal(), 7.00)\n\n    def test_get_subtotal_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 4)\n        self.assertEqual(calc.get_subtotal(), 6.00)\n\n    def test_get_subtotal_precision(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.1, 3)\n        calc.add_item(\"Item2\", 0.2, 3)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.9, places=10)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_ten_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 50)\n        self.assertEqual(result, 50.0)\n\n    def test_apply_discount_one_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_over_one_hundred_percent(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 50)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 10)\n\n    def test_apply_discount_very_small(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.01)\n        self.assertAlmostEqual(result, 99.99, places=2)\n\n    def test_apply_discount_precision(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(33.33, 33.33)\n        self.assertAlmostEqual(result, 22.22, places=2)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_very_large_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(1000000.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_zero(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_small_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(1.0)\n        self.assertAlmostEqual(result, 0.23, places=2)\n\n    def test_calculate_tax_large_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(10000.0)\n        self.assertEqual(result, 2300.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=4)\n\n    def test_calculate_total_no_discount_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_no_discount_above_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0, 1)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 80.0, 1)\n        total = calc.calculate_total(discount=10)\n        discounted = 72.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount_above_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 200.0, 1)\n        total = calc.calculate_total(discount=20)\n        discounted = 160.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_one_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(discount=100)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_at_threshold_boundary(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(discount=0)\n        expected = 100.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_pushes_below_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 120.0, 1)\n        total = calc.calculate_total(discount=20)\n        discounted = 96.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_default_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_negative_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(discount=-10)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_one_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_one_item_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.add_item(\"Orange\", 2.00, 1)\n        self.assertEqual(calc.total_items(), 6)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_clear_order_populated(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_verify_state(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n        self.assertEqual(calc.total_items(), 0)\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_one_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        items = calc.list_items()\n        self.assertEqual(len(items), 3)\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertIn(\"Orange\", items)\n\n    def test_list_items_preserves_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        items = calc.list_items()\n        self.assertEqual(items, [\"Apple\", \"Banana\", \"Orange\"])\n\n    def test_list_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.list_items(), [\"Banana\"])\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_full_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        calc.add_item(\"Banana\", 1.50, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 9.00)\n        discounted = calc.apply_discount(subtotal, 10)\n        self.assertEqual(discounted, 8.10)\n        total = calc.calculate_total(discount=10)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_add_and_remove_same_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.list_items(), [])\n\n    def test_multiple_add_remove_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Orange\", 2.00, 1)\n        calc.add_item(\"Banana\", 0.75, 2)\n        self.assertEqual(len(calc.list_items()), 2)\n        self.assertIn(\"Banana\", calc.list_items())\n        self.assertIn(\"Orange\", calc.list_items())\n\n    def test_recalculate_after_modifications(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 10.00, 2)\n        initial_total = calc.calculate_total()\n        calc.add_item(\"Banana\", 5.00, 1)\n        new_total = calc.calculate_total()\n        self.assertGreater(new_total, initial_total)\n\n    def test_order_state_consistency(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        calc.add_item(\"Banana\", 1.50, 2)\n        self.assertFalse(calc.is_empty())\n        self.assertEqual(calc.total_items(), 5)\n        self.assertEqual(len(calc.list_items()), 2)\n        self.assertEqual(calc.get_subtotal(), 9.00)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 169.15789699554443,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface"
  }
}