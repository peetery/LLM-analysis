{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface",
  "timestamp": "2025-12-31T03:33:44.107303",
  "response_time": 210.970520734787,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface\\claude-code-opus-4.5\\run_024\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet. Do not write test scenarios yet. Just analyze the class and prepare for the next step.\n\nBelow is the class interface (without implementation):\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict)\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n\ndef remove_item(self, name: str):\n\ndef get_subtotal(self) -> float:\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n\ndef calculate_tax(self, amount: float) -> float:\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n\ndef total_items(self) -> int:\n\ndef clear_order(self):\n\ndef list_items(self) -> List[str]:\n\ndef is_empty(self) -> bool:\n\n```\n\n",
        "response": "I'll analyze the `OrderCalculator` class to understand its interface and prepare for generating comprehensive unit tests.\n\n## Class Analysis\n\n### Constructor: `__init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0)`\n- Creates an order calculator with configurable tax rate, free shipping threshold, and shipping cost\n- All parameters have default values\n- **Test considerations**: default values, custom values, edge cases (0 values, negative values, very large values)\n\n### Item Management Methods:\n\n1. **`add_item(name: str, price: float, quantity: int = 1)`**\n   - Adds an item with name, price, and optional quantity (default 1)\n   - **Test considerations**: valid items, duplicate names, zero/negative price, zero/negative quantity, empty name, large quantities\n\n2. **`remove_item(name: str)`**\n   - Removes an item by name\n   - **Test considerations**: existing item, non-existing item, empty name, empty order\n\n3. **`clear_order()`**\n   - Clears all items from the order\n   - **Test considerations**: clearing non-empty order, clearing already empty order\n\n4. **`list_items() -> List[str]`**\n   - Returns list of item names\n   - **Test considerations**: empty order, single item, multiple items\n\n5. **`is_empty() -> bool`**\n   - Returns whether order has no items\n   - **Test considerations**: empty order, non-empty order, after clearing\n\n6. **`total_items() -> int`**\n   - Returns total count of items (likely considering quantities)\n   - **Test considerations**: empty order, single item, multiple items, items with quantity > 1\n\n### Calculation Methods:\n\n7. **`get_subtotal() -> float`**\n   - Calculates sum of item prices Ă— quantities\n   - **Test considerations**: empty order, single item, multiple items, various quantities\n\n8. **`apply_discount(subtotal: float, discount: float) -> float`**\n   - Applies discount to subtotal\n   - **Test considerations**: valid discount (0-100%), no discount, full discount, discount > 100%, negative discount\n\n9. **`calculate_shipping(discounted_subtotal: float) -> float`**\n   - Calculates shipping based on threshold\n   - **Test considerations**: below threshold, at threshold, above threshold, zero subtotal\n\n10. **`calculate_tax(amount: float) -> float`**\n    - Calculates tax on an amount\n    - **Test considerations**: positive amount, zero amount, negative amount, various tax rates\n\n11. **`calculate_total(discount: float = 0.0) -> float`**\n    - Calculates final total with optional discount\n    - **Test considerations**: no discount, with discount, edge cases combining subtotal + discount + shipping + tax\n\n## Key Test Categories Identified:\n\n1. **Initialization tests** - default and custom constructor parameters\n2. **Item management tests** - add, remove, clear, list operations\n3. **State query tests** - is_empty, total_items\n4. **Calculation tests** - subtotal, discount, shipping, tax, total\n5. **Edge cases** - empty orders, boundary values, invalid inputs\n6. **Exception handling** - invalid types, invalid values, missing items\n7. **Integration tests** - complete workflows combining multiple operations\n\n## Potential Exception Scenarios:\n- Adding item with negative price\n- Adding item with zero or negative quantity\n- Removing non-existent item\n- Applying invalid discount percentages\n- Empty string item names\n\nI'm now ready to generate comprehensive unit tests for this class.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### Constructor Tests (`__init__`)\n\n1. **Default parameters** (normal use) - Verify calculator initializes with default tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0\n2. **Custom tax rate** (normal use) - Verify calculator accepts custom tax rate\n3. **Custom shipping threshold** (normal use) - Verify calculator accepts custom free shipping threshold\n4. **Custom shipping cost** (normal use) - Verify calculator accepts custom shipping cost\n5. **All custom parameters** (normal use) - Verify all three parameters can be customized together\n6. **Zero tax rate** (edge case) - Verify tax_rate=0 is accepted\n7. **Zero shipping threshold** (edge case) - Verify free_shipping_threshold=0 means always free shipping\n8. **Zero shipping cost** (edge case) - Verify shipping_cost=0 is accepted\n9. **Negative tax rate** (invalid input) - Test behavior with negative tax rate\n10. **Negative shipping threshold** (invalid input) - Test behavior with negative threshold\n11. **Negative shipping cost** (invalid input) - Test behavior with negative shipping cost\n\n### add_item Tests\n\n12. **Add single item with defaults** (normal use) - Add item with name, price, default quantity=1\n13. **Add item with explicit quantity** (normal use) - Add item with specified quantity > 1\n14. **Add multiple different items** (normal use) - Add several distinct items\n15. **Add item with same name twice** (edge case) - Test behavior when adding duplicate item name\n16. **Add item with zero price** (edge case) - Test adding item with price=0\n17. **Add item with negative price** (invalid input) - Should raise exception or reject\n18. **Add item with zero quantity** (invalid input) - Should raise exception or reject\n19. **Add item with negative quantity** (invalid input) - Should raise exception or reject\n20. **Add item with empty name** (invalid input) - Test empty string as item name\n21. **Add item with whitespace name** (edge case) - Test whitespace-only name\n22. **Add item with very large price** (edge case) - Test with large float value\n23. **Add item with very large quantity** (edge case) - Test with large integer\n24. **Add item with float quantity** (invalid input) - Quantity should be integer\n25. **Add item with non-string name** (invalid input) - Test type validation\n\n### remove_item Tests\n\n26. **Remove existing item** (normal use) - Remove item that exists in order\n27. **Remove non-existing item** (exception) - Should raise KeyError or similar\n28. **Remove from empty order** (exception) - Should raise appropriate exception\n29. **Remove item then verify state** (normal use) - Confirm item is gone after removal\n30. **Remove with empty string name** (invalid input) - Test empty name behavior\n31. **Remove one of multiple items** (normal use) - Verify only specified item removed\n\n### get_subtotal Tests\n\n32. **Subtotal with single item** (normal use) - price Ă— quantity for one item\n33. **Subtotal with multiple items** (normal use) - Sum of all price Ă— quantity\n34. **Subtotal with empty order** (edge case) - Should return 0\n35. **Subtotal with quantity > 1** (normal use) - Verify quantity multiplication\n36. **Subtotal precision** (edge case) - Test floating point accuracy with decimal prices\n\n### apply_discount Tests\n\n37. **Apply zero discount** (edge case) - Subtotal unchanged with 0% discount\n38. **Apply 10% discount** (normal use) - Verify 10% reduction\n39. **Apply 50% discount** (normal use) - Verify half price\n40. **Apply 100% discount** (edge case) - Should return 0\n41. **Apply discount > 100%** (invalid input) - Test behavior with excessive discount\n42. **Apply negative discount** (invalid input) - Should raise exception or reject\n43. **Apply discount to zero subtotal** (edge case) - Discount on 0 should be 0\n44. **Apply small decimal discount** (normal use) - Test precision with values like 5.5%\n\n### calculate_shipping Tests\n\n45. **Shipping below threshold** (normal use) - Should return shipping cost\n46. **Shipping exactly at threshold** (edge case) - Should be free (at 100.0)\n47. **Shipping above threshold** (normal use) - Should be free (return 0)\n48. **Shipping with zero subtotal** (edge case) - Test empty/zero order\n49. **Shipping just below threshold** (edge case) - 99.99 should still incur shipping\n50. **Shipping just above threshold** (edge case) - 100.01 should be free\n51. **Shipping with custom threshold** (normal use) - Verify custom threshold works\n\n### calculate_tax Tests\n\n52. **Tax on positive amount** (normal use) - Verify correct tax calculation\n53. **Tax on zero amount** (edge case) - Should return 0\n54. **Tax on negative amount** (edge case) - Test behavior with negative input\n55. **Tax with default rate** (normal use) - Verify 23% calculation\n56. **Tax with custom rate** (normal use) - Verify custom tax rate applies\n57. **Tax with zero rate** (edge case) - Should return 0\n58. **Tax precision** (edge case) - Test rounding behavior with decimal results\n\n### calculate_total Tests\n\n59. **Total with no discount** (normal use) - subtotal + shipping + tax\n60. **Total with discount** (normal use) - Verify discount applied correctly\n61. **Total with free shipping** (normal use) - Above threshold, no shipping cost\n62. **Total with paid shipping** (normal use) - Below threshold, include shipping\n63. **Total on empty order** (edge case) - Should handle gracefully\n64. **Total with 100% discount** (edge case) - Only tax on shipping?\n65. **Total calculation order** (normal use) - Verify: (subtotal - discount) + shipping, then tax\n66. **Total with all custom parameters** (normal use) - Custom tax, threshold, shipping cost\n\n### total_items Tests\n\n67. **Total items with empty order** (edge case) - Should return 0\n68. **Total items with single item qty=1** (normal use) - Should return 1\n69. **Total items with single item qty>1** (normal use) - Should return quantity value\n70. **Total items with multiple items** (normal use) - Sum of all quantities\n71. **Total items after removal** (normal use) - Verify count decreases\n\n### clear_order Tests\n\n72. **Clear non-empty order** (normal use) - All items removed\n73. **Clear empty order** (edge case) - Should work without error\n74. **Clear then verify is_empty** (normal use) - is_empty should return True\n75. **Clear then verify subtotal** (normal use) - Subtotal should be 0\n\n### list_items Tests\n\n76. **List items empty order** (edge case) - Should return empty list\n77. **List items single item** (normal use) - List with one name\n78. **List items multiple items** (normal use) - All names in list\n79. **List items order preservation** (normal use) - Check if insertion order maintained\n80. **List items after removal** (normal use) - Removed item not in list\n\n### is_empty Tests\n\n81. **is_empty on new order** (normal use) - Should return True\n82. **is_empty after adding item** (normal use) - Should return False\n83. **is_empty after removing all items** (normal use) - Should return True\n84. **is_empty after clear_order** (normal use) - Should return True\n\n### Integration/Workflow Tests\n\n85. **Complete order workflow** (normal use) - Add items â†’ apply discount â†’ calculate total\n86. **Add and remove same item** (normal use) - Add then remove, verify empty\n87. **Multiple discounts scenario** (edge case) - Verify discount doesn't compound\n88. **Recalculate after modification** (normal use) - Total updates after adding/removing items\n89. **Threshold boundary with discount** (edge case) - Discount pushes below shipping threshold",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(100), 23.0)\n        self.assertEqual(calc.calculate_shipping(50), 10.0)\n        self.assertEqual(calc.calculate_shipping(100), 0.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.calculate_tax(100), 10.0)\n\n    def test_init_custom_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.calculate_shipping(50), 0.0)\n        self.assertEqual(calc.calculate_shipping(49), 10.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.calculate_shipping(50), 15.0)\n\n    def test_init_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.calculate_tax(100), 10.0)\n        self.assertEqual(calc.calculate_shipping(49), 5.0)\n        self.assertEqual(calc.calculate_shipping(50), 0.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.calculate_tax(100), 0.0)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.calculate_shipping(0), 0.0)\n        self.assertEqual(calc.calculate_shipping(0.01), 0.0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0)\n        self.assertEqual(calc.calculate_shipping(50), 0.0)\n\n    def test_init_negative_tax_rate(self):\n        calc = OrderCalculator(tax_rate=-0.1)\n        self.assertEqual(calc.calculate_tax(100), -10.0)\n\n    def test_init_negative_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=-10)\n        self.assertEqual(calc.calculate_shipping(0), 0.0)\n\n    def test_init_negative_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=-5)\n        self.assertEqual(calc.calculate_shipping(50), -5.0)\n\n    def test_add_item_single_with_defaults(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_add_item_with_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n        self.assertEqual(calc.get_subtotal(), 7.50)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_item_same_name_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"FreeItem\", 0.0)\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"BadItem\", -5.0)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_whitespace_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 1.50)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 999999999.99)\n        self.assertEqual(calc.get_subtotal(), 999999999.99)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Bulk\", 1.0, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_add_item_float_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_add_item_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(123, 1.50)\n\n    def test_remove_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_non_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(KeyError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(KeyError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_verify_state(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_remove_empty_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises((KeyError, ValueError)):\n            calc.remove_item(\"\")\n\n    def test_remove_one_of_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        calc.remove_item(\"Banana\")\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n        self.assertNotIn(\"Banana\", items)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        self.assertEqual(calc.get_subtotal(), 6.50)\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_with_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.get_subtotal(), 4.50)\n\n    def test_get_subtotal_precision(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.1)\n        calc.add_item(\"Item2\", 0.2)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.3, places=2)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_ten_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 50)\n        self.assertEqual(result, 50.0)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_greater_than_hundred(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_to_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 50)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_small_decimal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 5.5)\n        self.assertAlmostEqual(result, 94.5, places=2)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(50.0), 10.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(100.0), 0.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(150.0), 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(0.0), 10.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(99.99), 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(100.01), 0.0)\n\n    def test_calculate_shipping_custom_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.calculate_shipping(49.0), 10.0)\n        self.assertEqual(calc.calculate_shipping(50.0), 0.0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(100.0), 23.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(0.0), 0.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(-100.0), -23.0)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(200.0), 46.0)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.08)\n        self.assertEqual(calc.calculate_tax(100.0), 8.0)\n\n    def test_calculate_tax_zero_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.calculate_tax(100.0), 0.0)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator(tax_rate=0.23)\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=2)\n\n    def test_calculate_total_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0)\n        total = calc.calculate_total(discount=10)\n        expected = (90.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_paid_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0)\n        total = calc.calculate_total(discount=100)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_order_of_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 80.0)\n        total = calc.calculate_total(discount=10)\n        discounted = 80.0 * 0.9\n        shipping = 10.0\n        expected = (discounted + shipping) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Item\", 40.0)\n        total = calc.calculate_total(discount=10)\n        discounted = 40.0 * 0.9\n        shipping = 5.0\n        expected = (discounted + shipping) * 1.10\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_single_item_qty_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_qty_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 2.00, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 2.00, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_clear_order_non_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_then_verify_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_then_verify_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertIn(\"Cherry\", items)\n        self.assertEqual(len(items), 3)\n\n    def test_list_items_order_preservation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        items = calc.list_items()\n        self.assertEqual(items[0], \"Apple\")\n        self.assertEqual(items[1], \"Banana\")\n        self.assertEqual(items[2], \"Cherry\")\n\n    def test_list_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n\n    def test_is_empty_on_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_complete_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Laptop\", 500.0)\n        calc.add_item(\"Mouse\", 25.0)\n        calc.add_item(\"Keyboard\", 75.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 675.0)\n        discounted = calc.apply_discount(subtotal, 10)\n        self.assertEqual(discounted, 607.5)\n        shipping = calc.calculate_shipping(discounted)\n        self.assertEqual(shipping, 0.0)\n        total = calc.calculate_total(discount=10)\n        expected = 607.5 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_add_and_remove_same_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_multiple_discounts_not_compound(self):\n        calc = OrderCalculator()\n        subtotal = 100.0\n        discounted1 = calc.apply_discount(subtotal, 10)\n        discounted2 = calc.apply_discount(subtotal, 10)\n        self.assertEqual(discounted1, discounted2)\n        self.assertEqual(discounted1, 90.0)\n\n    def test_recalculate_after_modification(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total1 = calc.calculate_total()\n        calc.add_item(\"Banana\", 60.0)\n        total2 = calc.calculate_total()\n        self.assertNotEqual(total1, total2)\n        self.assertGreater(total2, total1)\n\n    def test_threshold_boundary_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 110.0)\n        shipping_before = calc.calculate_shipping(110.0)\n        self.assertEqual(shipping_before, 0.0)\n        discounted = calc.apply_discount(110.0, 20)\n        self.assertEqual(discounted, 88.0)\n        shipping_after = calc.calculate_shipping(discounted)\n        self.assertEqual(shipping_after, 10.0)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(100), 23.0)\n        self.assertEqual(calc.calculate_shipping(50), 10.0)\n        self.assertEqual(calc.calculate_shipping(100), 0.0)\n\n    def test_init_custom_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        self.assertEqual(calc.calculate_tax(100), 10.0)\n\n    def test_init_custom_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.calculate_shipping(50), 0.0)\n        self.assertEqual(calc.calculate_shipping(49), 10.0)\n\n    def test_init_custom_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=15.0)\n        self.assertEqual(calc.calculate_shipping(50), 15.0)\n\n    def test_init_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.calculate_tax(100), 10.0)\n        self.assertEqual(calc.calculate_shipping(49), 5.0)\n        self.assertEqual(calc.calculate_shipping(50), 0.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.calculate_tax(100), 0.0)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.calculate_shipping(0), 0.0)\n        self.assertEqual(calc.calculate_shipping(0.01), 0.0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0)\n        self.assertEqual(calc.calculate_shipping(50), 0.0)\n\n    def test_init_negative_tax_rate(self):\n        calc = OrderCalculator(tax_rate=-0.1)\n        self.assertEqual(calc.calculate_tax(100), -10.0)\n\n    def test_init_negative_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=-10)\n        self.assertEqual(calc.calculate_shipping(0), 0.0)\n\n    def test_init_negative_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=-5)\n        self.assertEqual(calc.calculate_shipping(50), -5.0)\n\n    def test_add_item_single_with_defaults(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_add_item_with_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n        self.assertEqual(calc.get_subtotal(), 7.50)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_item_same_name_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"FreeItem\", 0.0)\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"BadItem\", -5.0)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_whitespace_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"   \", 1.50)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 999999999.99)\n        self.assertEqual(calc.get_subtotal(), 999999999.99)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Bulk\", 1.0, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_add_item_float_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_add_item_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(123, 1.50)\n\n    def test_remove_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_non_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(KeyError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(KeyError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_verify_state(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n        self.assertIn(\"Banana\", calc.list_items())\n\n    def test_remove_empty_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises((KeyError, ValueError)):\n            calc.remove_item(\"\")\n\n    def test_remove_one_of_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        calc.remove_item(\"Banana\")\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n        self.assertNotIn(\"Banana\", items)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        self.assertEqual(calc.get_subtotal(), 6.50)\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_with_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.get_subtotal(), 4.50)\n\n    def test_get_subtotal_precision(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.1)\n        calc.add_item(\"Item2\", 0.2)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.3, places=2)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_ten_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_fifty_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 50)\n        self.assertEqual(result, 50.0)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_greater_than_hundred(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_to_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 50)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_small_decimal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 5.5)\n        self.assertAlmostEqual(result, 94.5, places=2)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(50.0), 10.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(100.0), 0.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(150.0), 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(0.0), 10.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(99.99), 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_shipping(100.01), 0.0)\n\n    def test_calculate_shipping_custom_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0)\n        self.assertEqual(calc.calculate_shipping(49.0), 10.0)\n        self.assertEqual(calc.calculate_shipping(50.0), 0.0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(100.0), 23.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(0.0), 0.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(-100.0), -23.0)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.calculate_tax(200.0), 46.0)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.08)\n        self.assertEqual(calc.calculate_tax(100.0), 8.0)\n\n    def test_calculate_tax_zero_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.calculate_tax(100.0), 0.0)\n\n    def test_calculate_tax_precision(self):\n        calc = OrderCalculator(tax_rate=0.23)\n        result = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(result, 7.6659, places=2)\n\n    def test_calculate_total_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0)\n        total = calc.calculate_total(discount=10)\n        expected = (90.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_paid_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0)\n        total = calc.calculate_total(discount=100)\n        expected = 10.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_order_of_operations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 80.0)\n        total = calc.calculate_total(discount=10)\n        discounted = 80.0 * 0.9\n        shipping = 10.0\n        expected = (discounted + shipping) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Item\", 40.0)\n        total = calc.calculate_total(discount=10)\n        discounted = 40.0 * 0.9\n        shipping = 5.0\n        expected = (discounted + shipping) * 1.10\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_single_item_qty_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_qty_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 2.00, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 2.00, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_clear_order_non_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_then_verify_is_empty(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_then_verify_subtotal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertIn(\"Cherry\", items)\n        self.assertEqual(len(items), 3)\n\n    def test_list_items_order_preservation(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.add_item(\"Cherry\", 3.00)\n        items = calc.list_items()\n        self.assertEqual(items[0], \"Apple\")\n        self.assertEqual(items[1], \"Banana\")\n        self.assertEqual(items[2], \"Cherry\")\n\n    def test_list_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.remove_item(\"Apple\")\n        self.assertNotIn(\"Apple\", calc.list_items())\n\n    def test_is_empty_on_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 2.00)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_complete_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Laptop\", 500.0)\n        calc.add_item(\"Mouse\", 25.0)\n        calc.add_item(\"Keyboard\", 75.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 675.0)\n        discounted = calc.apply_discount(subtotal, 10)\n        self.assertEqual(discounted, 607.5)\n        shipping = calc.calculate_shipping(discounted)\n        self.assertEqual(shipping, 0.0)\n        total = calc.calculate_total(discount=10)\n        expected = 607.5 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_add_and_remove_same_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_multiple_discounts_not_compound(self):\n        calc = OrderCalculator()\n        subtotal = 100.0\n        discounted1 = calc.apply_discount(subtotal, 10)\n        discounted2 = calc.apply_discount(subtotal, 10)\n        self.assertEqual(discounted1, discounted2)\n        self.assertEqual(discounted1, 90.0)\n\n    def test_recalculate_after_modification(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total1 = calc.calculate_total()\n        calc.add_item(\"Banana\", 60.0)\n        total2 = calc.calculate_total()\n        self.assertNotEqual(total1, total2)\n        self.assertGreater(total2, total1)\n\n    def test_threshold_boundary_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 110.0)\n        shipping_before = calc.calculate_shipping(110.0)\n        self.assertEqual(shipping_before, 0.0)\n        discounted = calc.apply_discount(110.0, 20)\n        self.assertEqual(discounted, 88.0)\n        shipping_after = calc.calculate_shipping(discounted)\n        self.assertEqual(shipping_after, 10.0)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 210.970520734787,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface"
  }
}