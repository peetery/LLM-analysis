{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface",
  "timestamp": "2026-01-03T23:27:56.813217",
  "response_time": 158.33311367034912,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface\\claude-code-opus-4.5\\run_029\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet. Do not write test scenarios yet. Just analyze the class and prepare for the next step.\n\nBelow is the class interface (without implementation):\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict)\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n\ndef remove_item(self, name: str):\n\ndef get_subtotal(self) -> float:\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n\ndef calculate_tax(self, amount: float) -> float:\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n\ndef total_items(self) -> int:\n\ndef clear_order(self):\n\ndef list_items(self) -> List[str]:\n\ndef is_empty(self) -> bool:\n\n```\n\n",
        "response": "I'll analyze the `OrderCalculator` class to prepare for writing comprehensive unit tests.\n\n## Class Analysis\n\n### Class Purpose\n`OrderCalculator` is an order management system that handles items, calculates totals with tax, discounts, and shipping logic.\n\n### Constructor Parameters\n- `tax_rate` (default 0.23 / 23%) - tax percentage to apply\n- `free_shipping_threshold` (default 100.0) - subtotal above which shipping is free\n- `shipping_cost` (default 10.0) - flat shipping fee when below threshold\n\n### Public Methods to Test\n\n1. **`add_item(name, price, quantity=1)`** - Adds item to order\n   - Edge cases: empty name, negative/zero price, negative/zero quantity, duplicate names, very large values\n\n2. **`remove_item(name)`** - Removes item by name\n   - Edge cases: non-existent item, empty order, case sensitivity\n\n3. **`get_subtotal()`** - Returns sum of (price Ă— quantity) for all items\n   - Edge cases: empty order, single item, multiple items\n\n4. **`apply_discount(subtotal, discount)`** - Applies discount to subtotal\n   - Edge cases: 0% discount, 100% discount, negative discount, discount > 100%, negative subtotal\n\n5. **`calculate_shipping(discounted_subtotal)`** - Returns shipping cost\n   - Edge cases: exactly at threshold, below threshold, above threshold, zero/negative subtotal\n\n6. **`calculate_tax(amount)`** - Calculates tax on amount\n   - Edge cases: zero amount, negative amount, large amounts\n\n7. **`calculate_total(discount=0.0)`** - Returns final total (subtotal - discount + shipping + tax)\n   - Edge cases: empty order, with/without discount, free shipping qualification\n\n8. **`total_items()`** - Returns total quantity of all items\n   - Edge cases: empty order, single item, multiple items with varying quantities\n\n9. **`clear_order()`** - Removes all items\n   - Edge cases: already empty order, order with items\n\n10. **`list_items()`** - Returns list of item name strings\n    - Edge cases: empty order, single item, multiple items\n\n11. **`is_empty()`** - Returns boolean if order has no items\n    - Edge cases: empty order, order with items\n\n### Key Testing Scenarios\n\n**Validation/Exception Testing:**\n- Invalid item names (empty, None)\n- Invalid prices (negative, zero, non-numeric)\n- Invalid quantities (negative, zero, non-integer)\n- Invalid discount values\n- Removing non-existent items\n\n**Boundary Testing:**\n- Free shipping threshold (exactly 100.0, 99.99, 100.01)\n- 0% and 100% discounts\n- Empty orders for all calculation methods\n\n**Integration Testing:**\n- Full order workflow: add items â†’ apply discount â†’ calculate total\n- Order modification: add, remove, clear, recalculate\n\n**State Testing:**\n- Order state after each operation\n- Multiple operations in sequence\n\nI'm ready to write the test code in the next step.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### Constructor (`__init__`)\n\n1. **Normal use** - Create with default parameters, verify defaults are set correctly\n2. **Normal use** - Create with custom tax_rate, free_shipping_threshold, shipping_cost\n3. **Edge case** - Create with zero tax_rate\n4. **Edge case** - Create with zero free_shipping_threshold\n5. **Edge case** - Create with zero shipping_cost\n6. **Invalid input** - Create with negative tax_rate (expect exception or specific behavior)\n7. **Invalid input** - Create with negative free_shipping_threshold\n8. **Invalid input** - Create with negative shipping_cost\n\n### `add_item(name, price, quantity)`\n\n9. **Normal use** - Add single item with default quantity (1)\n10. **Normal use** - Add single item with explicit quantity > 1\n11. **Normal use** - Add multiple different items\n12. **Normal use** - Add same item twice (check if updates or creates duplicate)\n13. **Edge case** - Add item with quantity = 1 explicitly\n14. **Edge case** - Add item with very large price\n15. **Edge case** - Add item with very large quantity\n16. **Edge case** - Add item with float price having many decimal places\n17. **Invalid input** - Add item with empty string name\n18. **Invalid input** - Add item with None as name\n19. **Invalid input** - Add item with negative price\n20. **Invalid input** - Add item with zero price\n21. **Invalid input** - Add item with negative quantity\n22. **Invalid input** - Add item with zero quantity\n23. **Invalid input** - Add item with non-integer quantity (float)\n24. **Invalid input** - Add item with non-numeric price (string)\n\n### `remove_item(name)`\n\n25. **Normal use** - Remove existing item from order\n26. **Normal use** - Remove item, verify subtotal updates\n27. **Edge case** - Remove item from single-item order (order becomes empty)\n28. **Invalid input** - Remove non-existent item (expect exception or specific behavior)\n29. **Invalid input** - Remove from empty order\n30. **Edge case** - Remove with case-sensitive name mismatch\n31. **Invalid input** - Remove with empty string name\n32. **Invalid input** - Remove with None as name\n\n### `get_subtotal()`\n\n33. **Normal use** - Get subtotal with single item\n34. **Normal use** - Get subtotal with multiple items\n35. **Normal use** - Get subtotal with items having quantity > 1\n36. **Edge case** - Get subtotal from empty order (expect 0)\n37. **Edge case** - Verify subtotal calculation: price Ă— quantity summed\n\n### `apply_discount(subtotal, discount)`\n\n38. **Normal use** - Apply typical discount (e.g., 10%)\n39. **Normal use** - Apply discount and verify calculation\n40. **Edge case** - Apply 0% discount (subtotal unchanged)\n41. **Edge case** - Apply 100% discount (result should be 0)\n42. **Edge case** - Apply discount to zero subtotal\n43. **Invalid input** - Apply negative discount\n44. **Invalid input** - Apply discount > 100%\n45. **Invalid input** - Apply discount to negative subtotal\n46. **Edge case** - Apply small discount (0.01%)\n47. **Edge case** - Apply discount resulting in floating-point precision\n\n### `calculate_shipping(discounted_subtotal)`\n\n48. **Normal use** - Calculate shipping when below threshold\n49. **Normal use** - Calculate shipping when above threshold (free shipping)\n50. **Edge case** - Calculate shipping when exactly at threshold\n51. **Edge case** - Calculate shipping at threshold - 0.01 (just below)\n52. **Edge case** - Calculate shipping at threshold + 0.01 (just above)\n53. **Edge case** - Calculate shipping with zero subtotal\n54. **Invalid input** - Calculate shipping with negative subtotal\n55. **Edge case** - Verify free shipping returns 0, not free_shipping_threshold\n\n### `calculate_tax(amount)`\n\n56. **Normal use** - Calculate tax on typical amount\n57. **Normal use** - Verify tax calculation: amount Ă— tax_rate\n58. **Edge case** - Calculate tax on zero amount\n59. **Edge case** - Calculate tax with zero tax_rate (from constructor)\n60. **Invalid input** - Calculate tax on negative amount\n61. **Edge case** - Calculate tax on very small amount\n62. **Edge case** - Calculate tax on very large amount\n\n### `calculate_total(discount)`\n\n63. **Normal use** - Calculate total without discount\n64. **Normal use** - Calculate total with discount\n65. **Normal use** - Calculate total with free shipping (above threshold)\n66. **Normal use** - Calculate total with shipping (below threshold)\n67. **Edge case** - Calculate total on empty order\n68. **Edge case** - Calculate total with 100% discount\n69. **Edge case** - Calculate total where discount brings subtotal just below shipping threshold\n70. **Edge case** - Calculate total where discount brings subtotal just above shipping threshold\n71. **Invalid input** - Calculate total with negative discount\n72. **Invalid input** - Calculate total with discount > 100%\n73. **Integration** - Verify formula: (subtotal - discount) + shipping + tax\n\n### `total_items()`\n\n74. **Normal use** - Get total items with single item quantity 1\n75. **Normal use** - Get total items with multiple items\n76. **Normal use** - Get total items with varying quantities\n77. **Edge case** - Get total items from empty order (expect 0)\n78. **Edge case** - Verify counts quantity, not unique items\n\n### `clear_order()`\n\n79. **Normal use** - Clear order with items, verify empty\n80. **Normal use** - Clear order and verify subtotal becomes 0\n81. **Normal use** - Clear order and verify total_items becomes 0\n82. **Edge case** - Clear already empty order (no error expected)\n83. **Edge case** - Clear order and verify is_empty returns True\n\n### `list_items()`\n\n84. **Normal use** - List items with single item\n85. **Normal use** - List items with multiple items\n86. **Edge case** - List items from empty order (expect empty list)\n87. **Edge case** - Verify return type is List[str]\n88. **Edge case** - Verify item names are returned correctly\n\n### `is_empty()`\n\n89. **Normal use** - Check is_empty on new/empty order (expect True)\n90. **Normal use** - Check is_empty after adding item (expect False)\n91. **Normal use** - Check is_empty after removing all items (expect True)\n92. **Normal use** - Check is_empty after clear_order (expect True)\n\n### Integration/Workflow Scenarios\n\n93. **Integration** - Full workflow: add items â†’ get subtotal â†’ apply discount â†’ calculate shipping â†’ calculate tax â†’ calculate total\n94. **Integration** - Add items, remove some, verify calculations update\n95. **Integration** - Add items, clear, add new items, verify fresh state\n96. **Integration** - Multiple discounts in sequence (if applicable)\n97. **Integration** - Boundary transition: add items to cross free shipping threshold\n98. **Integration** - Boundary transition: remove items to fall below free shipping threshold",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.10)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_init_zero_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_free_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_add_item_single_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_single_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_same_item_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_quantity_one_explicit(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Luxury\", 999999.99, 1)\n        self.assertEqual(calc.get_subtotal(), 999999.99)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 1.00, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_add_item_float_price_many_decimals(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Precise\", 1.123456789, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 1.123456789)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_none_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(None, 1.50)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 0.0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_float_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_add_item_non_numeric_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(\"Apple\", \"expensive\")\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_subtotal_updates(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 3.0)\n\n    def test_remove_item_single_item_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_non_existent(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_item_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_case_sensitive(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"apple\")\n\n    def test_remove_item_empty_string_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_none_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises((ValueError, TypeError)):\n            calc.remove_item(None)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.50, 1)\n        self.assertEqual(calc.get_subtotal(), 2.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.50, 1)\n        calc.add_item(\"Banana\", 1.25, 1)\n        self.assertEqual(calc.get_subtotal(), 3.75)\n\n    def test_get_subtotal_items_with_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        calc.add_item(\"Banana\", 1.50, 2)\n        self.assertEqual(calc.get_subtotal(), 9.00)\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_calculation_verification(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 10.00, 2)\n        calc.add_item(\"Item2\", 5.00, 4)\n        self.assertEqual(calc.get_subtotal(), 40.00)\n\n    def test_apply_discount_typical(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10.0)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_calculation_verification(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(200.0, 15.0)\n        self.assertEqual(result, 170.0)\n\n    def test_apply_discount_zero_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 10.0)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10.0)\n\n    def test_apply_discount_greater_than_hundred(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 110.0)\n\n    def test_apply_discount_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 10.0)\n\n    def test_apply_discount_small_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.01)\n        self.assertAlmostEqual(result, 99.99, places=2)\n\n    def test_apply_discount_floating_point_precision(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(33.33, 33.33)\n        self.assertAlmostEqual(result, 22.22, places=2)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_free_returns_zero(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(200.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_typical_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_calculation_verification(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        result = calc.calculate_tax(50.0)\n        self.assertEqual(result, 5.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_very_small_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.01)\n        self.assertAlmostEqual(result, 0.0023, places=4)\n\n    def test_calculate_tax_very_large_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(1000000.0)\n        self.assertEqual(result, 230000.0)\n\n    def test_calculate_total_without_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = 50.0 + 10.0 + (60.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(10.0)\n        expected = 90.0 + 10.0 + (100.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0, 1)\n        total = calc.calculate_total()\n        expected = 150.0 + 0.0 + (150.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = 50.0 + 10.0 + (60.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 0.0 + 10.0 + (10.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(100.0)\n        expected = 0.0 + 10.0 + (10.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_brings_below_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 110.0, 1)\n        total = calc.calculate_total(20.0)\n        discounted = 88.0\n        shipping = 10.0\n        tax = (discounted + shipping) * 0.23\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_keeps_above_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0, 1)\n        total = calc.calculate_total(10.0)\n        discounted = 135.0\n        shipping = 0.0\n        tax = (discounted + shipping) * 0.23\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_negative_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-10.0)\n\n    def test_calculate_total_discount_greater_than_hundred(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(110.0)\n\n    def test_calculate_total_formula_verification(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Item\", 40.0, 1)\n        total = calc.calculate_total(10.0)\n        discounted = 36.0\n        shipping = 5.0\n        tax = (discounted + shipping) * 0.10\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_items_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        calc.add_item(\"Banana\", 0.75, 1)\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_total_items_varying_quantities(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        calc.add_item(\"Banana\", 0.75, 5)\n        self.assertEqual(calc.total_items(), 8)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_counts_quantity_not_unique(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 10)\n        self.assertEqual(calc.total_items(), 10)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_subtotal_becomes_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_clear_order_total_items_becomes_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_order_already_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_is_empty_returns_true(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        items = calc.list_items()\n        self.assertEqual(len(items), 1)\n        self.assertIn(\"Apple\", items)\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        items = calc.list_items()\n        self.assertEqual(items, [])\n\n    def test_list_items_return_type(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        items = calc.list_items()\n        self.assertIsInstance(items, list)\n\n    def test_list_items_names_correct(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_integration_full_workflow(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=100.0, shipping_cost=10.0)\n        calc.add_item(\"Widget\", 25.0, 3)\n        calc.add_item(\"Gadget\", 15.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 105.0)\n        discounted = calc.apply_discount(subtotal, 10.0)\n        self.assertEqual(discounted, 94.5)\n        shipping = calc.calculate_shipping(discounted)\n        self.assertEqual(shipping, 10.0)\n        tax = calc.calculate_tax(discounted + shipping)\n        self.assertAlmostEqual(tax, 10.45, places=2)\n        total = calc.calculate_total(10.0)\n        self.assertAlmostEqual(total, 114.95, places=2)\n\n    def test_integration_add_remove_verify_calculations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 10.0, 5)\n        calc.add_item(\"Banana\", 5.0, 4)\n        self.assertEqual(calc.get_subtotal(), 70.0)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 20.0)\n        self.assertEqual(calc.total_items(), 4)\n\n    def test_integration_clear_add_new_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"OldItem\", 100.0, 1)\n        calc.clear_order()\n        calc.add_item(\"NewItem\", 50.0, 2)\n        self.assertEqual(calc.get_subtotal(), 100.0)\n        self.assertEqual(calc.total_items(), 2)\n        self.assertIn(\"NewItem\", calc.list_items())\n        self.assertNotIn(\"OldItem\", calc.list_items())\n\n    def test_integration_boundary_cross_free_shipping_add(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Small\", 30.0, 1)\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 10.0)\n        calc.add_item(\"Large\", 80.0, 1)\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 0.0)\n\n    def test_integration_boundary_cross_free_shipping_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 60.0, 1)\n        calc.add_item(\"Item2\", 50.0, 1)\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 0.0)\n        calc.remove_item(\"Item2\")\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 10.0)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.10)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        self.assertEqual(calc.tax_rate, 0.0)\n\n    def test_init_zero_free_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0.0)\n        self.assertEqual(calc.free_shipping_threshold, 0.0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0.0)\n        self.assertEqual(calc.shipping_cost, 0.0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_free_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_add_item_single_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_single_explicit_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_same_item_twice(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_quantity_one_explicit(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Luxury\", 999999.99, 1)\n        self.assertEqual(calc.get_subtotal(), 999999.99)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Widget\", 1.00, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_add_item_float_price_many_decimals(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Precise\", 1.123456789, 1)\n        self.assertAlmostEqual(calc.get_subtotal(), 1.123456789)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_none_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(None, 1.50)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 0.0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_float_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_add_item_non_numeric_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises((ValueError, TypeError)):\n            calc.add_item(\"Apple\", \"expensive\")\n\n    def test_remove_item_existing(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_subtotal_updates(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 3.0)\n\n    def test_remove_item_single_item_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_item_non_existent(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_item_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_case_sensitive(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"apple\")\n\n    def test_remove_item_empty_string_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_none_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises((ValueError, TypeError)):\n            calc.remove_item(None)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.50, 1)\n        self.assertEqual(calc.get_subtotal(), 2.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.50, 1)\n        calc.add_item(\"Banana\", 1.25, 1)\n        self.assertEqual(calc.get_subtotal(), 3.75)\n\n    def test_get_subtotal_items_with_quantity_greater_than_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 2.00, 3)\n        calc.add_item(\"Banana\", 1.50, 2)\n        self.assertEqual(calc.get_subtotal(), 9.00)\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_get_subtotal_calculation_verification(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 10.00, 2)\n        calc.add_item(\"Item2\", 5.00, 4)\n        self.assertEqual(calc.get_subtotal(), 40.00)\n\n    def test_apply_discount_typical(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10.0)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_calculation_verification(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(200.0, 15.0)\n        self.assertEqual(result, 170.0)\n\n    def test_apply_discount_zero_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_hundred_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0.0, 10.0)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10.0)\n\n    def test_apply_discount_greater_than_hundred(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 110.0)\n\n    def test_apply_discount_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(-100.0, 10.0)\n\n    def test_apply_discount_small_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0.01)\n        self.assertAlmostEqual(result, 99.99, places=2)\n\n    def test_apply_discount_floating_point_precision(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(33.33, 33.33)\n        self.assertAlmostEqual(result, 22.22, places=2)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(50.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(150.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_just_below_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(99.99)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_just_above_threshold(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(100.01)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(0.0)\n        self.assertEqual(result, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_free_returns_zero(self):\n        calc = OrderCalculator()\n        result = calc.calculate_shipping(200.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_typical_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 23.0)\n\n    def test_calculate_tax_calculation_verification(self):\n        calc = OrderCalculator(tax_rate=0.10)\n        result = calc.calculate_tax(50.0)\n        self.assertEqual(result, 5.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0.0)\n        result = calc.calculate_tax(100.0)\n        self.assertEqual(result, 0.0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_very_small_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(0.01)\n        self.assertAlmostEqual(result, 0.0023, places=4)\n\n    def test_calculate_tax_very_large_amount(self):\n        calc = OrderCalculator()\n        result = calc.calculate_tax(1000000.0)\n        self.assertEqual(result, 230000.0)\n\n    def test_calculate_total_without_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = 50.0 + 10.0 + (60.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(10.0)\n        expected = 90.0 + 10.0 + (100.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0, 1)\n        total = calc.calculate_total()\n        expected = 150.0 + 0.0 + (150.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 50.0, 1)\n        total = calc.calculate_total()\n        expected = 50.0 + 10.0 + (60.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_empty_order(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        expected = 0.0 + 10.0 + (10.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_hundred_percent_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        total = calc.calculate_total(100.0)\n        expected = 0.0 + 10.0 + (10.0 * 0.23)\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_brings_below_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 110.0, 1)\n        total = calc.calculate_total(20.0)\n        discounted = 88.0\n        shipping = 10.0\n        tax = (discounted + shipping) * 0.23\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_keeps_above_shipping_threshold(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 150.0, 1)\n        total = calc.calculate_total(10.0)\n        discounted = 135.0\n        shipping = 0.0\n        tax = (discounted + shipping) * 0.23\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_negative_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(-10.0)\n\n    def test_calculate_total_discount_greater_than_hundred(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item\", 100.0, 1)\n        with self.assertRaises(ValueError):\n            calc.calculate_total(110.0)\n\n    def test_calculate_total_formula_verification(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Item\", 40.0, 1)\n        total = calc.calculate_total(10.0)\n        discounted = 36.0\n        shipping = 5.0\n        tax = (discounted + shipping) * 0.10\n        expected = discounted + shipping + tax\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_items_single_item_quantity_one(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 1)\n        calc.add_item(\"Banana\", 0.75, 1)\n        self.assertEqual(calc.total_items(), 2)\n\n    def test_total_items_varying_quantities(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        calc.add_item(\"Banana\", 0.75, 5)\n        self.assertEqual(calc.total_items(), 8)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_counts_quantity_not_unique(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 10)\n        self.assertEqual(calc.total_items(), 10)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_subtotal_becomes_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.get_subtotal(), 0.0)\n\n    def test_clear_order_total_items_becomes_zero(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.clear_order()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_clear_order_already_empty(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_order_is_empty_returns_true(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        items = calc.list_items()\n        self.assertEqual(len(items), 1)\n        self.assertIn(\"Apple\", items)\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertEqual(len(items), 2)\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        items = calc.list_items()\n        self.assertEqual(items, [])\n\n    def test_list_items_return_type(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        items = calc.list_items()\n        self.assertIsInstance(items, list)\n\n    def test_list_items_names_correct(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_integration_full_workflow(self):\n        calc = OrderCalculator(tax_rate=0.10, free_shipping_threshold=100.0, shipping_cost=10.0)\n        calc.add_item(\"Widget\", 25.0, 3)\n        calc.add_item(\"Gadget\", 15.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 105.0)\n        discounted = calc.apply_discount(subtotal, 10.0)\n        self.assertEqual(discounted, 94.5)\n        shipping = calc.calculate_shipping(discounted)\n        self.assertEqual(shipping, 10.0)\n        tax = calc.calculate_tax(discounted + shipping)\n        self.assertAlmostEqual(tax, 10.45, places=2)\n        total = calc.calculate_total(10.0)\n        self.assertAlmostEqual(total, 114.95, places=2)\n\n    def test_integration_add_remove_verify_calculations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 10.0, 5)\n        calc.add_item(\"Banana\", 5.0, 4)\n        self.assertEqual(calc.get_subtotal(), 70.0)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 20.0)\n        self.assertEqual(calc.total_items(), 4)\n\n    def test_integration_clear_add_new_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"OldItem\", 100.0, 1)\n        calc.clear_order()\n        calc.add_item(\"NewItem\", 50.0, 2)\n        self.assertEqual(calc.get_subtotal(), 100.0)\n        self.assertEqual(calc.total_items(), 2)\n        self.assertIn(\"NewItem\", calc.list_items())\n        self.assertNotIn(\"OldItem\", calc.list_items())\n\n    def test_integration_boundary_cross_free_shipping_add(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Small\", 30.0, 1)\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 10.0)\n        calc.add_item(\"Large\", 80.0, 1)\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 0.0)\n\n    def test_integration_boundary_cross_free_shipping_remove(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 60.0, 1)\n        calc.add_item(\"Item2\", 50.0, 1)\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 0.0)\n        calc.remove_item(\"Item2\")\n        self.assertEqual(calc.calculate_shipping(calc.get_subtotal()), 10.0)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 158.33311367034912,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface"
  }
}