{
  "model": "claude-code-opus-4.5",
  "strategy": "chain_of_thought_prompting",
  "context_type": "interface",
  "timestamp": "2025-12-30T21:21:27.350526",
  "response_time": 167.9006805419922,
  "test_file": "cli_results\\chain_of_thought_prompting\\interface\\claude-code-opus-4.5\\run_018\\tests.py",
  "raw_results": {
    "responses": [
      {
        "step": 1,
        "prompt": "You are a software testing assistant. Your task is to generate a set of unit tests for a Python class provided below.\n\nThe tests should:\n- use the `unittest` framework,\n- cover all public methods,\n- test typical usage as well as edge cases, invalid inputs, and exceptions,\n- be clear, atomic, and minimal.\n\nYou will now analyze the class to prepare relevant test cases.\nDo not write test code yet. Do not write test scenarios yet. Just analyze the class and prepare for the next step.\n\nBelow is the class interface (without implementation):\n\n```python\nfrom typing import TypedDict, List\n\nclass Item(TypedDict)\n\nclass OrderCalculator:\n    def __init__(self, tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0):\n\ndef add_item(self, name: str, price: float, quantity: int = 1):\n\ndef remove_item(self, name: str):\n\ndef get_subtotal(self) -> float:\n\ndef apply_discount(self, subtotal: float, discount: float) -> float:\n\ndef calculate_shipping(self, discounted_subtotal: float) -> float:\n\ndef calculate_tax(self, amount: float) -> float:\n\ndef calculate_total(self, discount: float = 0.0) -> float:\n\ndef total_items(self) -> int:\n\ndef clear_order(self):\n\ndef list_items(self) -> List[str]:\n\ndef is_empty(self) -> bool:\n\n```\n\n",
        "response": "I'll analyze the `OrderCalculator` class to prepare for generating comprehensive unit tests.\n\n## Class Analysis\n\n### Constructor (`__init__`)\n- **Parameters**: `tax_rate` (default 0.23), `free_shipping_threshold` (default 100.0), `shipping_cost` (default 10.0)\n- **Edge cases**: Negative values, zero values, very large values, non-numeric types\n\n### Public Methods\n\n1. **`add_item(name, price, quantity=1)`**\n   - Adds item with name, price, and optional quantity\n   - Edge cases: Empty name, negative/zero price, negative/zero quantity, duplicate names, very large values, non-string name, non-numeric price/quantity\n\n2. **`remove_item(name)`**\n   - Removes item by name\n   - Edge cases: Non-existent item, empty name, removing from empty order, case sensitivity\n\n3. **`get_subtotal()`**\n   - Returns sum of (price Ă— quantity) for all items\n   - Edge cases: Empty order, single item, multiple items, floating point precision\n\n4. **`apply_discount(subtotal, discount)`**\n   - Applies discount to subtotal\n   - Edge cases: Zero discount, 100% discount, discount > 100%, negative discount, discount on zero subtotal\n\n5. **`calculate_shipping(discounted_subtotal)`**\n   - Returns shipping cost based on threshold\n   - Edge cases: Exactly at threshold, below threshold, above threshold, zero subtotal, negative subtotal\n\n6. **`calculate_tax(amount)`**\n   - Calculates tax on amount\n   - Edge cases: Zero amount, negative amount, large amounts, floating point precision\n\n7. **`calculate_total(discount=0.0)`**\n   - Calculates final total (subtotal - discount + shipping + tax)\n   - Edge cases: Empty order, with/without discount, free shipping qualification, combined scenarios\n\n8. **`total_items()`**\n   - Returns total count of items (sum of quantities)\n   - Edge cases: Empty order, single item, multiple items with various quantities\n\n9. **`clear_order()`**\n   - Removes all items\n   - Edge cases: Already empty order, order with items\n\n10. **`list_items()`**\n    - Returns list of item names\n    - Edge cases: Empty order, single item, multiple items, order of items\n\n11. **`is_empty()`**\n    - Returns boolean indicating if order has no items\n    - Edge cases: Empty order, non-empty order, after clearing\n\n### Key Testing Categories\n\n1. **Initialization tests**: Default and custom parameters, invalid configurations\n2. **Item management**: Add, remove, duplicates, invalid inputs\n3. **Calculation tests**: Subtotal, discount, shipping, tax, total\n4. **State tests**: Empty checks, clearing, item counts, listing\n5. **Boundary tests**: Threshold values, zero values, precision\n6. **Exception tests**: Invalid inputs, type errors, value errors\n7. **Integration tests**: Full workflow scenarios combining multiple operations\n\n### Dependencies\n- Uses `Item` TypedDict (likely with `name`, `price`, `quantity` fields)\n- Returns `List[str]` from `list_items()`\n\nI'm ready to generate the test code in the next step.",
        "response_time": 0
      },
      {
        "step": 2,
        "prompt": "Based on the class above, list all relevant unit test scenarios you would create.\nEach scenario should describe:\n- the method being tested,\n- the type of case (e.g. normal use, invalid input, exception),\n- a short explanation of the intent.\nList as many scenarios as you can think of, covering all aspects of the class.\nDo not write test code yet.\n\n",
        "response": "## Unit Test Scenarios for OrderCalculator\n\n### Constructor (`__init__`) Tests\n\n1. **Default parameters** (normal use) - Verify default tax_rate=0.23, free_shipping_threshold=100.0, shipping_cost=10.0 are applied\n2. **Custom parameters** (normal use) - Verify custom values for all parameters are stored correctly\n3. **Zero tax rate** (edge case) - Verify tax_rate=0 is accepted\n4. **Zero shipping threshold** (edge case) - Verify free_shipping_threshold=0 always gives free shipping\n5. **Zero shipping cost** (edge case) - Verify shipping_cost=0 results in no shipping charges\n6. **Negative tax rate** (invalid input) - Verify behavior with negative tax rate\n7. **Negative shipping threshold** (invalid input) - Verify behavior with negative threshold\n8. **Negative shipping cost** (invalid input) - Verify behavior with negative shipping cost\n\n### `add_item` Tests\n\n9. **Add single item** (normal use) - Add one item and verify it exists\n10. **Add item with default quantity** (normal use) - Add item without specifying quantity, verify quantity=1\n11. **Add item with custom quantity** (normal use) - Add item with quantity > 1\n12. **Add multiple different items** (normal use) - Add several items with different names\n13. **Add duplicate item name** (edge case) - Add item with same name twice, verify behavior (update or error)\n14. **Empty name** (invalid input) - Add item with empty string name\n15. **Negative price** (invalid input) - Add item with negative price\n16. **Zero price** (edge case) - Add item with price = 0\n17. **Negative quantity** (invalid input) - Add item with negative quantity\n18. **Zero quantity** (invalid input) - Add item with quantity = 0\n19. **Non-string name** (exception) - Add item with non-string name (e.g., integer)\n20. **Non-numeric price** (exception) - Add item with non-numeric price\n21. **Non-integer quantity** (exception) - Add item with float quantity\n22. **Very large price** (edge case) - Add item with extremely large price value\n23. **Very large quantity** (edge case) - Add item with extremely large quantity\n\n### `remove_item` Tests\n\n24. **Remove existing item** (normal use) - Remove item that exists in order\n25. **Remove non-existent item** (exception) - Remove item not in order\n26. **Remove from empty order** (exception) - Attempt removal when order is empty\n27. **Remove with empty name** (invalid input) - Remove with empty string name\n28. **Case sensitivity** (edge case) - Verify name matching is case-sensitive or not\n29. **Remove then re-add** (normal use) - Remove item then add same item again\n\n### `get_subtotal` Tests\n\n30. **Subtotal empty order** (edge case) - Get subtotal when no items added\n31. **Subtotal single item** (normal use) - Subtotal with one item, quantity=1\n32. **Subtotal single item multiple quantity** (normal use) - Subtotal with one item, quantity>1\n33. **Subtotal multiple items** (normal use) - Subtotal with several different items\n34. **Subtotal floating point precision** (edge case) - Verify precision with prices like 0.1, 0.2\n35. **Subtotal after removal** (normal use) - Verify subtotal updates after removing item\n\n### `apply_discount` Tests\n\n36. **Zero discount** (edge case) - Apply 0% discount\n37. **Normal discount** (normal use) - Apply typical discount (e.g., 10%, 20%)\n38. **100% discount** (edge case) - Apply 100% discount\n39. **Discount greater than 100%** (invalid input) - Apply discount > 100%\n40. **Negative discount** (invalid input) - Apply negative discount\n41. **Discount on zero subtotal** (edge case) - Apply discount when subtotal is 0\n42. **Discount as decimal vs percentage** (edge case) - Verify if discount is 0.1 or 10 for 10%\n43. **Large discount value** (edge case) - Apply very large discount number\n\n### `calculate_shipping` Tests\n\n44. **Below threshold** (normal use) - Subtotal below free_shipping_threshold returns shipping_cost\n45. **Exactly at threshold** (edge case) - Subtotal equals threshold, verify free or charged\n46. **Above threshold** (normal use) - Subtotal above threshold returns 0 (free shipping)\n47. **Zero subtotal** (edge case) - Shipping calculation with zero subtotal\n48. **Negative subtotal** (invalid input) - Shipping calculation with negative subtotal\n49. **Custom threshold and cost** (normal use) - Verify with non-default threshold and cost values\n\n### `calculate_tax` Tests\n\n50. **Tax on positive amount** (normal use) - Calculate tax on normal positive value\n51. **Tax on zero amount** (edge case) - Calculate tax when amount is 0\n52. **Tax on negative amount** (invalid input) - Calculate tax on negative value\n53. **Tax with default rate** (normal use) - Verify 23% tax calculation\n54. **Tax with custom rate** (normal use) - Verify tax with different tax_rate\n55. **Tax floating point precision** (edge case) - Verify precision of tax calculation\n56. **Tax on large amount** (edge case) - Calculate tax on very large amount\n\n### `calculate_total` Tests\n\n57. **Total empty order no discount** (edge case) - Total when order is empty\n58. **Total single item no discount** (normal use) - Basic total calculation\n59. **Total multiple items no discount** (normal use) - Total with several items\n60. **Total with discount** (normal use) - Total applying a discount\n61. **Total qualifying for free shipping** (normal use) - Total when subtotal >= threshold\n62. **Total not qualifying for free shipping** (normal use) - Total when subtotal < threshold\n63. **Total with discount affecting shipping eligibility** (edge case) - Discount drops subtotal below threshold\n64. **Total with zero tax rate** (edge case) - Total when tax_rate = 0\n65. **Total with all custom parameters** (normal use) - Total with custom tax, threshold, shipping\n66. **Total calculation order** (edge case) - Verify correct order: subtotal -> discount -> shipping -> tax\n\n### `total_items` Tests\n\n67. **Total items empty order** (edge case) - Count when no items\n68. **Total items single item quantity 1** (normal use) - Count with one item\n69. **Total items single item quantity > 1** (normal use) - Count reflecting quantity\n70. **Total items multiple items** (normal use) - Sum of all quantities\n71. **Total items after removal** (normal use) - Count updates after removing item\n\n### `clear_order` Tests\n\n72. **Clear order with items** (normal use) - Clear order containing items\n73. **Clear empty order** (edge case) - Clear already empty order\n74. **Verify state after clear** (normal use) - Check is_empty, total_items, get_subtotal after clear\n\n### `list_items` Tests\n\n75. **List items empty order** (edge case) - List when no items, expect empty list\n76. **List items single item** (normal use) - List with one item\n77. **List items multiple items** (normal use) - List with several items\n78. **List items return type** (normal use) - Verify returns List[str]\n79. **List items order** (edge case) - Verify order of items in list (insertion order?)\n80. **List items immutability** (edge case) - Modifying returned list doesn't affect order\n\n### `is_empty` Tests\n\n81. **Is empty on new order** (normal use) - New order should be empty\n82. **Is empty after adding item** (normal use) - Should return False\n83. **Is empty after removing all items** (normal use) - Should return True\n84. **Is empty after clear** (normal use) - Should return True\n\n### Integration/Workflow Tests\n\n85. **Full purchase workflow** (normal use) - Add items, apply discount, calculate total\n86. **Modify order workflow** (normal use) - Add items, remove some, add more, calculate\n87. **Multiple calculations** (normal use) - Calculate total multiple times, verify consistency\n88. **State consistency** (normal use) - Verify all getters reflect current state after operations",
        "response_time": 0
      },
      {
        "step": 3,
        "prompt": "Now, based on the test scenarios you just listed, generate the complete Python unit test suite using the `unittest` framework.\n\nFollow these rules:\n- Include one test method per scenario.\n- Use meaningful test method names.\n- Do not include comments or explanations.\n- Output a valid `.py` file containing only the test class.\n- IMPORTANT: Do NOT copy or redefine the OrderCalculator class in your test file. The class already exists in a separate module. Simply import it using: `from order_calculator import OrderCalculator`\n\nThe output must contain only Python code.",
        "response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.1)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.tax_rate, 0)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.free_shipping_threshold, 0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0)\n        self.assertEqual(calc.shipping_cost, 0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_add_item_single(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_add_item_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_custom_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_duplicate_item_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Free Sample\", 0)\n        self.assertEqual(calc.get_subtotal(), 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 1.50)\n\n    def test_add_item_non_numeric_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", \"expensive\")\n\n    def test_add_item_non_integer_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 1000000.0)\n        self.assertEqual(calc.get_subtotal(), 1000000.0)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Bulk\", 1.0, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_remove_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_non_existent_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_empty_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_case_sensitivity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"apple\")\n\n    def test_remove_then_readd_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Apple\", 2.00)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_get_subtotal_single_item_multiple_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.get_subtotal(), 4.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        self.assertEqual(calc.get_subtotal(), 6.0)\n\n    def test_get_subtotal_floating_point_precision(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.1)\n        calc.add_item(\"Item2\", 0.2)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.3, places=2)\n\n    def test_get_subtotal_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 0.75)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_normal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_100_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_greater_than_100(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_on_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0, 10)\n        self.assertEqual(result, 0)\n\n    def test_apply_discount_as_percentage(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(200.0, 25)\n        self.assertEqual(result, 150.0)\n\n    def test_apply_discount_large_value(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(1000000.0, 50)\n        self.assertEqual(result, 500000.0)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(50.0)\n        self.assertEqual(shipping, 10.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(100.0)\n        self.assertEqual(shipping, 0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(150.0)\n        self.assertEqual(shipping, 0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(0)\n        self.assertEqual(shipping, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_custom_threshold_and_cost(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.calculate_shipping(40.0), 5.0)\n        self.assertEqual(calc.calculate_shipping(60.0), 0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(100.0)\n        self.assertEqual(tax, 23.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(0)\n        self.assertEqual(tax, 0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(200.0)\n        self.assertEqual(tax, 46.0)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.1)\n        tax = calc.calculate_tax(100.0)\n        self.assertEqual(tax, 10.0)\n\n    def test_calculate_tax_floating_point_precision(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(tax, 7.6659, places=2)\n\n    def test_calculate_tax_large_amount(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(1000000.0)\n        self.assertEqual(tax, 230000.0)\n\n    def test_calculate_total_empty_order_no_discount(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        self.assertEqual(total, 12.3)\n\n    def test_calculate_total_single_item_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_multiple_items_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0)\n        calc.add_item(\"Banana\", 20.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0)\n        total = calc.calculate_total(discount=10)\n        expected = 90.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_qualifying_for_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 150.0)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_not_qualifying_for_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_affects_shipping_eligibility(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 110.0)\n        total = calc.calculate_total(discount=20)\n        discounted = 88.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        calc.add_item(\"Apple\", 50.0)\n        total = calc.calculate_total()\n        expected = 50.0 + 10.0\n        self.assertEqual(total, expected)\n\n    def test_calculate_total_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Apple\", 40.0)\n        total = calc.calculate_total()\n        expected = (40.0 + 5.0) * 1.1\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_calculation_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 120.0)\n        total = calc.calculate_total(discount=20)\n        discounted = 96.0\n        shipping = 0\n        expected = (discounted + shipping) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_single_item_quantity_1(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_quantity_greater_than_1(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_empty_order(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_verify_state_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.total_items(), 0)\n        self.assertEqual(calc.get_subtotal(), 0)\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        items = calc.list_items()\n        self.assertEqual(len(items), 3)\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertIn(\"Orange\", items)\n\n    def test_list_items_return_type(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        result = calc.list_items()\n        self.assertIsInstance(result, list)\n        self.assertIsInstance(result[0], str)\n\n    def test_list_items_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertEqual(items[0], \"Apple\")\n        self.assertEqual(items[1], \"Banana\")\n\n    def test_list_items_immutability(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        items = calc.list_items()\n        items.append(\"Banana\")\n        self.assertEqual(len(calc.list_items()), 1)\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_full_purchase_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Laptop\", 500.0)\n        calc.add_item(\"Mouse\", 25.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 550.0)\n        total = calc.calculate_total(discount=10)\n        discounted = 495.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_modify_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        calc.add_item(\"Banana\", 0.75, 2)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Orange\", 2.00, 4)\n        self.assertEqual(calc.total_items(), 6)\n        self.assertEqual(len(calc.list_items()), 2)\n\n    def test_multiple_calculations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total1 = calc.calculate_total()\n        total2 = calc.calculate_total()\n        self.assertEqual(total1, total2)\n\n    def test_state_consistency(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0, 2)\n        calc.add_item(\"Banana\", 20.0)\n        self.assertEqual(calc.total_items(), 3)\n        self.assertEqual(calc.get_subtotal(), 80.0)\n        self.assertFalse(calc.is_empty())\n        self.assertEqual(len(calc.list_items()), 2)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 1)\n        self.assertEqual(calc.get_subtotal(), 20.0)\n        self.assertFalse(calc.is_empty())\n        self.assertEqual(len(calc.list_items()), 1)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
        "response_time": 0
      }
    ],
    "final_response": "```python\nimport unittest\nfrom order_calculator import OrderCalculator\n\n\nclass TestOrderCalculator(unittest.TestCase):\n\n    def test_init_default_parameters(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.tax_rate, 0.23)\n        self.assertEqual(calc.free_shipping_threshold, 100.0)\n        self.assertEqual(calc.shipping_cost, 10.0)\n\n    def test_init_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.tax_rate, 0.1)\n        self.assertEqual(calc.free_shipping_threshold, 50.0)\n        self.assertEqual(calc.shipping_cost, 5.0)\n\n    def test_init_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        self.assertEqual(calc.tax_rate, 0)\n\n    def test_init_zero_shipping_threshold(self):\n        calc = OrderCalculator(free_shipping_threshold=0)\n        self.assertEqual(calc.free_shipping_threshold, 0)\n\n    def test_init_zero_shipping_cost(self):\n        calc = OrderCalculator(shipping_cost=0)\n        self.assertEqual(calc.shipping_cost, 0)\n\n    def test_init_negative_tax_rate(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(tax_rate=-0.1)\n\n    def test_init_negative_shipping_threshold(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(free_shipping_threshold=-10.0)\n\n    def test_init_negative_shipping_cost(self):\n        with self.assertRaises(ValueError):\n            OrderCalculator(shipping_cost=-5.0)\n\n    def test_add_item_single(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_add_item_default_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_add_item_custom_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_multiple_different_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        self.assertEqual(len(calc.list_items()), 3)\n\n    def test_add_duplicate_item_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_add_item_empty_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"\", 1.50)\n\n    def test_add_item_negative_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", -1.50)\n\n    def test_add_item_zero_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Free Sample\", 0)\n        self.assertEqual(calc.get_subtotal(), 0)\n\n    def test_add_item_negative_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, -1)\n\n    def test_add_item_zero_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.add_item(\"Apple\", 1.50, 0)\n\n    def test_add_item_non_string_name(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(123, 1.50)\n\n    def test_add_item_non_numeric_price(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", \"expensive\")\n\n    def test_add_item_non_integer_quantity(self):\n        calc = OrderCalculator()\n        with self.assertRaises(TypeError):\n            calc.add_item(\"Apple\", 1.50, 2.5)\n\n    def test_add_item_very_large_price(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Expensive\", 1000000.0)\n        self.assertEqual(calc.get_subtotal(), 1000000.0)\n\n    def test_add_item_very_large_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Bulk\", 1.0, 1000000)\n        self.assertEqual(calc.total_items(), 1000000)\n\n    def test_remove_existing_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_remove_non_existent_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Banana\")\n\n    def test_remove_from_empty_order(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"Apple\")\n\n    def test_remove_item_empty_name(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"\")\n\n    def test_remove_item_case_sensitivity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        with self.assertRaises(ValueError):\n            calc.remove_item(\"apple\")\n\n    def test_remove_then_readd_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Apple\", 2.00)\n        self.assertIn(\"Apple\", calc.list_items())\n\n    def test_get_subtotal_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.get_subtotal(), 0)\n\n    def test_get_subtotal_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.get_subtotal(), 1.50)\n\n    def test_get_subtotal_single_item_multiple_quantity(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        self.assertEqual(calc.get_subtotal(), 4.50)\n\n    def test_get_subtotal_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 4)\n        self.assertEqual(calc.get_subtotal(), 6.0)\n\n    def test_get_subtotal_floating_point_precision(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Item1\", 0.1)\n        calc.add_item(\"Item2\", 0.2)\n        self.assertAlmostEqual(calc.get_subtotal(), 0.3, places=2)\n\n    def test_get_subtotal_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.get_subtotal(), 0.75)\n\n    def test_apply_discount_zero(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 0)\n        self.assertEqual(result, 100.0)\n\n    def test_apply_discount_normal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 10)\n        self.assertEqual(result, 90.0)\n\n    def test_apply_discount_100_percent(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(100.0, 100)\n        self.assertEqual(result, 0.0)\n\n    def test_apply_discount_greater_than_100(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, 150)\n\n    def test_apply_discount_negative(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.apply_discount(100.0, -10)\n\n    def test_apply_discount_on_zero_subtotal(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(0, 10)\n        self.assertEqual(result, 0)\n\n    def test_apply_discount_as_percentage(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(200.0, 25)\n        self.assertEqual(result, 150.0)\n\n    def test_apply_discount_large_value(self):\n        calc = OrderCalculator()\n        result = calc.apply_discount(1000000.0, 50)\n        self.assertEqual(result, 500000.0)\n\n    def test_calculate_shipping_below_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(50.0)\n        self.assertEqual(shipping, 10.0)\n\n    def test_calculate_shipping_exactly_at_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(100.0)\n        self.assertEqual(shipping, 0)\n\n    def test_calculate_shipping_above_threshold(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(150.0)\n        self.assertEqual(shipping, 0)\n\n    def test_calculate_shipping_zero_subtotal(self):\n        calc = OrderCalculator()\n        shipping = calc.calculate_shipping(0)\n        self.assertEqual(shipping, 10.0)\n\n    def test_calculate_shipping_negative_subtotal(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_shipping(-50.0)\n\n    def test_calculate_shipping_custom_threshold_and_cost(self):\n        calc = OrderCalculator(free_shipping_threshold=50.0, shipping_cost=5.0)\n        self.assertEqual(calc.calculate_shipping(40.0), 5.0)\n        self.assertEqual(calc.calculate_shipping(60.0), 0)\n\n    def test_calculate_tax_positive_amount(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(100.0)\n        self.assertEqual(tax, 23.0)\n\n    def test_calculate_tax_zero_amount(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(0)\n        self.assertEqual(tax, 0)\n\n    def test_calculate_tax_negative_amount(self):\n        calc = OrderCalculator()\n        with self.assertRaises(ValueError):\n            calc.calculate_tax(-100.0)\n\n    def test_calculate_tax_default_rate(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(200.0)\n        self.assertEqual(tax, 46.0)\n\n    def test_calculate_tax_custom_rate(self):\n        calc = OrderCalculator(tax_rate=0.1)\n        tax = calc.calculate_tax(100.0)\n        self.assertEqual(tax, 10.0)\n\n    def test_calculate_tax_floating_point_precision(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(33.33)\n        self.assertAlmostEqual(tax, 7.6659, places=2)\n\n    def test_calculate_tax_large_amount(self):\n        calc = OrderCalculator()\n        tax = calc.calculate_tax(1000000.0)\n        self.assertEqual(tax, 230000.0)\n\n    def test_calculate_total_empty_order_no_discount(self):\n        calc = OrderCalculator()\n        total = calc.calculate_total()\n        self.assertEqual(total, 12.3)\n\n    def test_calculate_total_single_item_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_multiple_items_no_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0)\n        calc.add_item(\"Banana\", 20.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_with_discount(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 100.0)\n        total = calc.calculate_total(discount=10)\n        expected = 90.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_qualifying_for_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 150.0)\n        total = calc.calculate_total()\n        expected = 150.0 * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_not_qualifying_for_free_shipping(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total = calc.calculate_total()\n        expected = (50.0 + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_discount_affects_shipping_eligibility(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 110.0)\n        total = calc.calculate_total(discount=20)\n        discounted = 88.0\n        expected = (discounted + 10.0) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_zero_tax_rate(self):\n        calc = OrderCalculator(tax_rate=0)\n        calc.add_item(\"Apple\", 50.0)\n        total = calc.calculate_total()\n        expected = 50.0 + 10.0\n        self.assertEqual(total, expected)\n\n    def test_calculate_total_all_custom_parameters(self):\n        calc = OrderCalculator(tax_rate=0.1, free_shipping_threshold=50.0, shipping_cost=5.0)\n        calc.add_item(\"Apple\", 40.0)\n        total = calc.calculate_total()\n        expected = (40.0 + 5.0) * 1.1\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_calculate_total_calculation_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 120.0)\n        total = calc.calculate_total(discount=20)\n        discounted = 96.0\n        shipping = 0\n        expected = (discounted + shipping) * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_total_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.total_items(), 0)\n\n    def test_total_items_single_item_quantity_1(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.total_items(), 1)\n\n    def test_total_items_single_item_quantity_greater_than_1(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 5)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        self.assertEqual(calc.total_items(), 5)\n\n    def test_total_items_after_removal(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 2)\n        calc.add_item(\"Banana\", 0.75, 3)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 3)\n\n    def test_clear_order_with_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_clear_empty_order(self):\n        calc = OrderCalculator()\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_verify_state_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n        self.assertEqual(calc.total_items(), 0)\n        self.assertEqual(calc.get_subtotal(), 0)\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_empty_order(self):\n        calc = OrderCalculator()\n        self.assertEqual(calc.list_items(), [])\n\n    def test_list_items_single_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertEqual(calc.list_items(), [\"Apple\"])\n\n    def test_list_items_multiple_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        calc.add_item(\"Orange\", 2.00)\n        items = calc.list_items()\n        self.assertEqual(len(items), 3)\n        self.assertIn(\"Apple\", items)\n        self.assertIn(\"Banana\", items)\n        self.assertIn(\"Orange\", items)\n\n    def test_list_items_return_type(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        result = calc.list_items()\n        self.assertIsInstance(result, list)\n        self.assertIsInstance(result[0], str)\n\n    def test_list_items_order(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.add_item(\"Banana\", 0.75)\n        items = calc.list_items()\n        self.assertEqual(items[0], \"Apple\")\n        self.assertEqual(items[1], \"Banana\")\n\n    def test_list_items_immutability(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        items = calc.list_items()\n        items.append(\"Banana\")\n        self.assertEqual(len(calc.list_items()), 1)\n\n    def test_is_empty_new_order(self):\n        calc = OrderCalculator()\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_adding_item(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        self.assertFalse(calc.is_empty())\n\n    def test_is_empty_after_removing_all_items(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.remove_item(\"Apple\")\n        self.assertTrue(calc.is_empty())\n\n    def test_is_empty_after_clear(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50)\n        calc.clear_order()\n        self.assertTrue(calc.is_empty())\n\n    def test_full_purchase_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Laptop\", 500.0)\n        calc.add_item(\"Mouse\", 25.0, 2)\n        subtotal = calc.get_subtotal()\n        self.assertEqual(subtotal, 550.0)\n        total = calc.calculate_total(discount=10)\n        discounted = 495.0\n        expected = discounted * 1.23\n        self.assertAlmostEqual(total, expected, places=2)\n\n    def test_modify_order_workflow(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 1.50, 3)\n        calc.add_item(\"Banana\", 0.75, 2)\n        calc.remove_item(\"Apple\")\n        calc.add_item(\"Orange\", 2.00, 4)\n        self.assertEqual(calc.total_items(), 6)\n        self.assertEqual(len(calc.list_items()), 2)\n\n    def test_multiple_calculations(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 50.0)\n        total1 = calc.calculate_total()\n        total2 = calc.calculate_total()\n        self.assertEqual(total1, total2)\n\n    def test_state_consistency(self):\n        calc = OrderCalculator()\n        calc.add_item(\"Apple\", 30.0, 2)\n        calc.add_item(\"Banana\", 20.0)\n        self.assertEqual(calc.total_items(), 3)\n        self.assertEqual(calc.get_subtotal(), 80.0)\n        self.assertFalse(calc.is_empty())\n        self.assertEqual(len(calc.list_items()), 2)\n        calc.remove_item(\"Apple\")\n        self.assertEqual(calc.total_items(), 1)\n        self.assertEqual(calc.get_subtotal(), 20.0)\n        self.assertFalse(calc.is_empty())\n        self.assertEqual(len(calc.list_items()), 1)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n```",
    "total_response_time": 167.9006805419922,
    "strategy": "chain_of_thought_prompting",
    "context_type": "interface"
  }
}